import{L as An,M as $n,N as Rn,O as Tt,P as Ln,Q as zn,R as Me,S as vt,T as Et,a as Ct,b as xe,c as gt,d as Pn,e as kn,f as Dn,g as In,ga as jn,h as Sn,i as Nn,ia as Bn,ja as Gn,ka as Wn,la as Hn,r as bt,s as he,t as yt,u as Ce,v as On,w as Vn,x as Mn}from"./chunk-2KNHXYM4.js";import{$a as fe,B as gn,C as me,Ga as xt,Ia as En,Ja as ne,Ka as ht,M as mt,O as bn,P as ut,Q as Oe,Sa as ue,Ua as wn,Ya as Y,Za as Fn,a as H,aa as yn,b as cn,ba as Tn,c as pn,cb as Ve,d as ct,f as dn,g as R,i as pt,j as _n,k as dt,l as mn,m as un,pa as vn,q as Ne,r as fn,s as _t,t as xn,u as hn,v as Cn,wa as ft}from"./chunk-BDOQTSQV.js";import{$ as w,$a as U,Ab as nn,B as Xt,Ba as j,Bb as on,C as Je,Cb as an,Da as nt,Ea as Zt,F as Ut,Fa as ae,Ga as h,Ha as it,Hb as Q,Ib as at,Jb as J,Kb as rt,Lb as st,N as Ze,Oa as en,Ob as b,Pb as T,Qa as f,Qb as lt,Ra as x,Rb as rn,S as Qt,Sa as tn,Sb as K,T as et,Ua as B,Ub as sn,V as A,Va as G,Wa as l,Wb as ln,X as F,Xa as m,Ya as u,Za as P,Zb as Z,_ as E,_a as X,aa as $,ab as V,b as Wt,bb as S,cc as pe,da as Kt,ea as Pe,fa as ke,ga as De,gb as k,hb as r,j as z,lb as re,lc as ee,mb as se,mc as de,na as tt,nb as le,o as M,qc as te,ra as p,rb as v,rc as Se,sa as Yt,tb as W,ub as ot,v as Ht,vb as ce,vc as _e,wb as D,x as Fe,xa as q,xb as Ie,ya as Jt,yb as N,z as qt}from"./chunk-KHY5JWQN.js";import{d as L,e as Ee,f as we}from"./chunk-R3EWYZZD.js";var ge=class{constructor(e){this.value=e}},be=class n{constructor(){this.size=0}get head(){return this.first}get tail(){return this.last}get length(){return this.size}attach(e,t,i){if(!t)return this.addHead(e);if(!i)return this.addTail(e);let o=new ge(e);return o.previous=t,t.next=o,o.next=i,i.previous=o,this.size++,o}attachMany(e,t,i){if(!e.length)return[];if(!t)return this.addManyHead(e);if(!i)return this.addManyTail(e);let o=new n;return o.addManyTail(e),o.first.previous=t,t.next=o.first,o.last.next=i,i.previous=o.last,this.size+=e.length,o.toNodeArray()}detach(e){return e.previous?e.next?(e.previous.next=e.next,e.next.previous=e.previous,this.size--,e):this.dropTail():this.dropHead()}add(e){return{after:(...t)=>this.addAfter.call(this,e,...t),before:(...t)=>this.addBefore.call(this,e,...t),byIndex:t=>this.addByIndex(e,t),head:()=>this.addHead(e),tail:()=>this.addTail(e)}}addMany(e){return{after:(...t)=>this.addManyAfter.call(this,e,...t),before:(...t)=>this.addManyBefore.call(this,e,...t),byIndex:t=>this.addManyByIndex(e,t),head:()=>this.addManyHead(e),tail:()=>this.addManyTail(e)}}addAfter(e,t,i=H){let o=this.find(a=>i(a.value,t));return o?this.attach(e,o,o.next):this.addTail(e)}addBefore(e,t,i=H){let o=this.find(a=>i(a.value,t));return o?this.attach(e,o.previous,o):this.addHead(e)}addByIndex(e,t){if(t<0)t+=this.size;else if(t>=this.size)return this.addTail(e);if(t<=0)return this.addHead(e);let i=this.get(t);return this.attach(e,i.previous,i)}addHead(e){let t=new ge(e);return t.next=this.first,this.first?this.first.previous=t:this.last=t,this.first=t,this.size++,t}addTail(e){let t=new ge(e);return this.first?(t.previous=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),this.size++,t}addManyAfter(e,t,i=H){let o=this.find(a=>i(a.value,t));return o?this.attachMany(e,o,o.next):this.addManyTail(e)}addManyBefore(e,t,i=H){let o=this.find(a=>i(a.value,t));return o?this.attachMany(e,o.previous,o):this.addManyHead(e)}addManyByIndex(e,t){if(t<0&&(t+=this.size),t<=0)return this.addManyHead(e);if(t>=this.size)return this.addManyTail(e);let i=this.get(t);return this.attachMany(e,i.previous,i)}addManyHead(e){return e.reduceRight((t,i)=>(t.unshift(this.addHead(i)),t),[])}addManyTail(e){return e.map(t=>this.addTail(t))}drop(){return{byIndex:e=>this.dropByIndex(e),byValue:(...e)=>this.dropByValue.apply(this,e),byValueAll:(...e)=>this.dropByValueAll.apply(this,e),head:()=>this.dropHead(),tail:()=>this.dropTail()}}dropMany(e){return{byIndex:t=>this.dropManyByIndex(e,t),head:()=>this.dropManyHead(e),tail:()=>this.dropManyTail(e)}}dropByIndex(e){e<0&&(e+=this.size);let t=this.get(e);return t?this.detach(t):void 0}dropByValue(e,t=H){let i=this.findIndex(o=>t(o.value,e));return i<0?void 0:this.dropByIndex(i)}dropByValueAll(e,t=H){let i=[];for(let o=this.first,a=0;o;a++,o=o.next)t(o.value,e)&&i.push(this.dropByIndex(a-i.length));return i}dropHead(){let e=this.first;if(e)return this.first=e.next,this.first?this.first.previous=void 0:this.last=void 0,this.size--,e}dropTail(){let e=this.last;if(e)return this.last=e.previous,this.last?this.last.next=void 0:this.first=void 0,this.size--,e}dropManyByIndex(e,t){if(e<=0)return[];if(t<0)t=Math.max(t+this.size,0);else if(t>=this.size)return[];e=Math.min(e,this.size-t);let i=[];for(;e--;){let o=this.get(t);i.push(this.detach(o))}return i}dropManyHead(e){if(e<=0)return[];e=Math.min(e,this.size);let t=[];for(;e--;)t.unshift(this.dropHead());return t}dropManyTail(e){if(e<=0)return[];e=Math.min(e,this.size);let t=[];for(;e--;)t.push(this.dropTail());return t}find(e){for(let t=this.first,i=0;t;i++,t=t.next)if(e(t,i,this))return t}findIndex(e){for(let t=this.first,i=0;t;i++,t=t.next)if(e(t,i,this))return i;return-1}forEach(e){for(let t=this.first,i=0;t;i++,t=t.next)e(t,i,this)}get(e){return this.find((t,i)=>e===i)}indexOf(e,t=H){return this.findIndex(i=>t(i.value,e))}toArray(){let e=new Array(this.size);return this.forEach((t,i)=>e[i]=t.value),e}toNodeArray(){let e=new Array(this.size);return this.forEach((t,i)=>e[i]=t),e}toString(e=JSON.stringify){return this.toArray().map(t=>e(t)).join(" <-> ")}*[Symbol.iterator](){for(let e=this.first,t=0;e;t++,e=e.next)yield e.value}};var Jn=(n,e)=>e.value;function ci(n,e){if(n&1&&(D(0),b(1,"abpLocalization")),n&2){let t=r().$implicit;N(" ",T(1,1,"::"+t.key)," ")}}function pi(n,e){if(n&1&&D(0),n&2){let t=r().$implicit;N(" ",t.key," ")}}function di(n,e){if(n&1){let t=S();m(0,"div",1)(1,"input",2),k("change",function(o){let a=E(t).$implicit,s=r();return w(s.onCheckboxChange(a.value,o.target.checked))}),u(),m(2,"label",3),f(3,ci,2,3)(4,pi,1,1),u()()}if(n&2){let t=e.$implicit,i=r();p(),l("id","checkbox_"+t.value)("disabled",i.disabled)("checked",i.isChecked(t.value)),p(),l("for","checkbox_"+t.value),p(),x(i.prop().isExtra?3:4)}}var _i=["field"],mi=()=>({$implicit:"form-check-label"}),ui=()=>({standalone:!0}),fi=(n,e)=>({"fa-eye-slash":n,"fa-eye":e});function xi(n,e){n&1&&V(0)}function hi(n,e){if(n&1&&h(0,xi,1,0,"ng-container",9),n&2){let t=r(2);l("ngComponentOutlet",t.prop.template)("ngComponentOutletInjector",t.injectorForCustomComponent)}}function Ci(n,e){}function gi(n,e){if(n&1&&(h(0,Ci,0,0,"ng-template",10),P(1,"input",11,1)),n&2){let t=r(2),i=v(2);l("ngTemplateOutlet",i),p(),l("id",t.prop.id)("formControlName",t.prop.name)("autocomplete",t.prop.autocomplete)("type",t.getType(t.prop))("abpDisabled",t.disabled)("readonly",t.readonly)}}function bi(n,e){if(n&1&&P(0,"input",6),n&2){let t=r(2);l("formControlName",t.prop.name)}}function yi(n,e){}function Ti(n,e){if(n&1&&(m(0,"div",7),P(1,"input",12,1),h(3,yi,0,0,"ng-template",13),u()),n&2){let t=r(2),i=v(2);p(),l("id",t.prop.id)("formControlName",t.prop.name)("abpDisabled",t.disabled),p(2),l("ngTemplateOutlet",i)("ngTemplateOutletContext",at(5,mi))}}function vi(n,e){}function Ei(n,e){if(n&1&&(D(0),b(1,"abpLocalization")),n&2){let t=r().$implicit;N(" ",T(1,1,"::"+t.key)," ")}}function wi(n,e){if(n&1&&D(0),n&2){let t=r().$implicit;N(" ",t.key," ")}}function Fi(n,e){if(n&1&&(m(0,"option",15),f(1,Ei,2,3)(2,wi,1,1),u()),n&2){let t=e.$implicit,i=r(3);l("ngValue",t.value),p(),x(i.prop.isExtra?1:2)}}function Pi(n,e){if(n&1&&(h(0,vi,0,0,"ng-template",10),m(1,"select",14,1),B(3,Fi,3,2,"option",15,Jn),b(5,"async"),u()),n&2){let t=r(2),i=v(2);l("ngTemplateOutlet",i),p(),l("id",t.prop.id)("formControlName",t.prop.name)("abpDisabled",t.disabled),p(2),G(T(5,4,t.options$))}}function ki(n,e){}function Di(n,e){if(n&1&&(h(0,ki,0,0,"ng-template",10),P(1,"abp-extensible-form-multi-select",16),b(2,"async")),n&2){let t=r(2),i=v(2);l("ngTemplateOutlet",i),p(),l("prop",t.prop)("options",T(2,5,t.options$))("formControlName",t.prop.name)("abpDisabled",t.disabled)}}function Ii(n,e){}function Si(n,e){if(n&1){let t=S();h(0,Ii,0,0,"ng-template",10),m(1,"div",17,2)(3,"input",18,1),an("ngModelChange",function(o){E(t);let a=r(2);return on(a.typeaheadModel,o)||(a.typeaheadModel=o),w(o)}),k("selectItem",function(o){E(t);let a=r(2);return w(a.setTypeaheadValue(o.item))})("blur",function(){E(t);let o=r(2);return w(o.setTypeaheadValue(o.typeaheadModel))}),u(),P(5,"input",6),u()}if(n&2){let t=v(2),i=r(2),o=v(2);l("ngTemplateOutlet",o),p(3),W("is-invalid",t.classList.contains("is-invalid")),l("id",i.prop.id)("autocomplete",i.prop.autocomplete)("abpDisabled",i.disabled)("ngbTypeahead",i.search)("editable",!1)("inputFormatter",i.typeaheadFormatter)("resultFormatter",i.typeaheadFormatter)("ngModelOptions",at(13,ui)),nn("ngModel",i.typeaheadModel),p(2),l("formControlName",i.prop.name)}}function Ni(n,e){}function Oi(n,e){if(n&1){let t=S();h(0,Ni,0,0,"ng-template",10),m(1,"input",19,3),k("click",function(){E(t);let o=v(2);return w(o.open())})("keyup.space",function(){E(t);let o=v(2);return w(o.open())}),u()}if(n&2){let t=r(2),i=v(2);l("ngTemplateOutlet",i),p(),l("id",t.prop.id)("formControlName",t.prop.name)}}function Vi(n,e){}function Mi(n,e){if(n&1&&(h(0,Vi,0,0,"ng-template",10),P(1,"ngb-timepicker",20)),n&2){let t=r(2),i=v(2);l("ngTemplateOutlet",i),p(),l("formControlName",t.prop.name)}}function Ai(n,e){}function $i(n,e){if(n&1&&(h(0,Ai,0,0,"ng-template",10),P(1,"abp-extensible-date-time-picker",21),b(2,"async")),n&2){let t=r(2),i=v(2);l("ngTemplateOutlet",i),p(),l("prop",t.prop)("meridian",T(2,3,t.meridian$))}}function Ri(n,e){}function Li(n,e){if(n&1&&(h(0,Ri,0,0,"ng-template",10),P(1,"textarea",22,1)),n&2){let t=r(2),i=v(2);l("ngTemplateOutlet",i),p(),l("id",t.prop.id)("formControlName",t.prop.name)("abpDisabled",t.disabled)("readonly",t.readonly)}}function zi(n,e){}function ji(n,e){if(n&1){let t=S();h(0,zi,0,0,"ng-template",10),m(1,"div",23),P(2,"input",24),m(3,"button",25),k("click",function(){E(t);let o=r(2);return w(o.showPassword=!o.showPassword)}),P(4,"i",26),u()()}if(n&2){let t=r(2),i=v(2);l("ngTemplateOutlet",i),p(2),l("id",t.prop.id)("formControlName",t.prop.name)("abpShowPassword",t.showPassword),p(2),l("ngClass",rt(5,fi,!t.showPassword,t.showPassword))}}function Bi(n,e){if(n&1&&(m(0,"small",8),D(1),b(2,"abpLocalization"),u()),n&2){let t=r(2);p(),Ie(T(2,1,t.prop.formText))}}function Gi(n,e){if(n&1&&(X(0),f(1,hi,1,2,"ng-container"),m(2,"div",5),f(3,gi,3,7)(4,bi,1,1,"input",6)(5,Ti,4,6,"div",7)(6,Pi,6,6)(7,Di,3,7)(8,Si,6,14)(9,Oi,3,3)(10,Mi,2,2)(11,$i,3,5)(12,Li,3,5)(13,ji,5,8),f(14,Bi,3,3,"small",8),u(),U()),n&2){let t,i,o=r();p(),x((t=o.getComponent(o.prop))==="template"?1:-1),p(),l("ngClass",o.containerClassName),p(),x((i=o.getComponent(o.prop))==="input"?3:i==="hidden"?4:i==="checkbox"?5:i==="select"?6:i==="multiselect"?7:i==="typeahead"?8:i==="date"?9:i==="time"?10:i==="dateTime"?11:i==="textarea"?12:i==="passwordinputgroup"?13:-1),p(11),x(o.prop.formText?14:-1)}}function Wi(n,e){if(n&1&&(D(0),b(1,"abpLocalization")),n&2){let t=r(2);N(" ",T(1,1,t.prop.displayTextResolver(t.data))," ")}}function Hi(n,e){if(n&1&&(D(0),b(1,"abpLocalization")),n&2){let t=r(3);N(" ",T(1,1,"::"+t.prop.displayName)," ")}}function qi(n,e){if(n&1&&(D(0),b(1,"abpLocalization")),n&2){let t=r(3);N(" ",T(1,1,t.prop.displayName)," ")}}function Xi(n,e){if(n&1&&f(0,Hi,2,3)(1,qi,2,3),n&2){let t=r(2);x(t.prop.isExtra?0:1)}}function Ui(n,e){if(n&1&&(P(0,"i",29),b(1,"abpLocalization")),n&2){let t=r(2);l("ngbTooltip",T(1,2,t.prop.tooltip.text))("placement",t.prop.tooltip.placement||"auto")}}function Qi(n,e){if(n&1&&(m(0,"label",27)(1,"span",28),f(2,Wi,2,3)(3,Xi,2,1),D(4),f(5,Ui,2,4,"i",29),u()()),n&2){let t=e.$implicit,i=r();l("htmlFor",i.prop.id)("ngClass",t||"form-label d-inline-block"),p(2),x(i.prop.displayTextResolver?2:3),p(2),N(" ",i.asterisk," "),p(),x(i.prop.tooltip?5:-1)}}var Zn=(n,e,t)=>({groupedProp:n,data:e,isFirstGroup:t}),ei=(n,e)=>e.name;function Ki(n,e){if(n&1&&(m(0,"div",2),V(1,3),u()),n&2){let t=r().$implicit,i=r(),o=i.$implicit,a=i.$index;r(2);let s=v(2);l("ngClass",o.group==null?null:o.group.className),en("data-name",(o.group==null?null:o.group.name)||(o.group==null?null:o.group.className)),p(),l("ngTemplateOutlet",s)("ngTemplateOutletContext",st(4,Zn,o,t,a===0))}}function Yi(n,e){if(n&1&&V(0,3),n&2){let t=r().$implicit,i=r(),o=i.$implicit,a=i.$index;r(2);let s=v(2);l("ngTemplateOutlet",s)("ngTemplateOutletContext",st(2,Zn,o,t,a===0))}}function Ji(n,e){if(n&1&&(X(0),f(1,Ki,2,8,"div",2)(2,Yi,1,6,"ng-container",3),U()),n&2){let t=e.$implicit,i=r(),o=i.$implicit,a=i.$index,s=r(2);p(),x(s.isAnyGroupMemberVisible(a,t)&&(o.group!=null&&o.group.className)?1:2)}}function Zi(n,e){if(n&1&&h(0,Ji,3,1,"ng-container",1),n&2){let t=e.$implicit,i=r(2);l("abpPropDataFromList",t.formPropList)("abpPropDataWithRecord",i.record)}}function eo(n,e){if(n&1&&B(0,Zi,1,2,"ng-container",null,tn),n&2){let t=r();G(t.groupedPropList.items)}}function to(n,e){if(n&1&&(X(0,4),P(1,"abp-extensible-form-prop",5),U()),n&2){let t=r(2).$implicit,i=r().data,o=r();l("formGroupName",o.extraPropertiesKey),p(),ce(t.className),l("prop",t)("data",i)}}function no(n,e){if(n&1&&P(0,"abp-extensible-form-prop",7),n&2){let t=r(3),i=t.$implicit,o=t.$index,a=r(),s=a.data,c=a.isFirstGroup;ce(i.className),l("prop",i)("data",s)("first",o===0)("isFirstGroup",c)}}function io(n,e){if(n&1&&f(0,no,1,6,"abp-extensible-form-prop",6),n&2){let t=r(2).$implicit,i=r(2);x(i.form.get(t.name)?0:-1)}}function oo(n,e){if(n&1&&f(0,to,2,5,"ng-container",4)(1,io,1,1),n&2){let t=r().$implicit,i=r(2);x(i.extraProperties.controls[t.name]?0:1)}}function ao(n,e){if(n&1&&f(0,oo,2,1),n&2){let t=e.$implicit,i=r().data;x(t.visible(i)?0:-1)}}function ro(n,e){if(n&1&&B(0,ao,1,1,null,null,ei),n&2){let t=e.groupedProp;G(t.formPropList)}}var Te=n=>({$implicit:n}),so=(n,e)=>e.text;function lo(n,e){if(n&1&&V(0,4),n&2){let t=e.$implicit;r(2);let i=v(3);l("ngTemplateOutlet",i)("ngTemplateOutletContext",J(2,Te,t))}}function co(n,e){if(n&1&&(m(0,"div",3)(1,"button",5),P(2,"i",6),D(3),b(4,"abpLocalization"),u(),m(5,"div",7),B(6,lo,1,4,"ng-container",4,so),u()()),n&2){let t=r();p(2),W("me-1",t.icon),l("ngClass",t.icon),p(),N("",T(4,4,t.text)," "),p(3),G(t.actionList)}}function po(n,e){if(n&1&&V(0,4),n&2){let t=r(),i=v(7);l("ngTemplateOutlet",i)("ngTemplateOutletContext",J(2,Te,t.actionList.get(0).value))}}function _o(n,e){n&1&&V(0)}function mo(n,e){if(n&1){let t=S();m(0,"button",10),k("click",function(){E(t);let o=r(2).$implicit,a=r();return w(o.action(a.data))}),h(1,_o,1,0,"ng-container",11),u()}if(n&2){let t=r(2).$implicit;r();let i=v(5);p(),l("ngTemplateOutlet",i)("ngTemplateOutletContext",J(2,Te,t))}}function uo(n,e){if(n&1&&h(0,mo,2,4,"button",9),n&2){let t=r().$implicit;l("abpPermission",t.permission)("abpPermissionRunChangeDetection",!1)}}function fo(n,e){if(n&1&&f(0,uo,1,2,"button",8),n&2){let t=e.$implicit,i=r();x(t.visible(i.data)?0:-1)}}function xo(n,e){if(n&1&&(m(0,"span"),D(1),b(2,"abpLocalization"),u()),n&2){let t=r(2).$implicit;p(),Ie(T(2,1,t.text))}}function ho(n,e){if(n&1&&(m(0,"div",12),D(1),b(2,"abpLocalization"),u()),n&2){let t=r(2).$implicit;p(),Ie(T(2,1,t.text))}}function Co(n,e){if(n&1&&f(0,xo,3,3,"span")(1,ho,3,3,"div",12),n&2){let t=r().$implicit;x(t.icon?0:1)}}function go(n,e){if(n&1&&(P(0,"i",6),f(1,Co,2,1)),n&2){let t=e.$implicit;W("me-1",t.icon&&!t.showOnlyIcon),l("ngClass",t.icon),p(),x(t.showOnlyIcon?-1:1)}}function bo(n,e){n&1&&V(0)}function yo(n,e){if(n&1){let t=S();m(0,"button",16),b(1,"abpLocalization"),k("click",function(){E(t);let o=r(3).$implicit,a=r();return w(o.action(a.data))}),h(2,bo,1,0,"ng-container",11),u()}if(n&2){let t=r(3).$implicit;r();let i=v(5);ot(t.btnStyle),ce(t.btnClass),l("ngbTooltip",T(1,8,t.tooltip.text))("placement",t.tooltip.placement||"auto"),p(2),l("ngTemplateOutlet",i)("ngTemplateOutletContext",J(10,Te,t))}}function To(n,e){if(n&1&&h(0,yo,3,12,"button",15),n&2){let t=r(2).$implicit;l("abpPermission",t.permission)("abpPermissionRunChangeDetection",!1)}}function vo(n,e){n&1&&V(0)}function Eo(n,e){if(n&1){let t=S();m(0,"button",18),k("click",function(){E(t);let o=r(3).$implicit,a=r();return w(o.action(a.data))}),h(1,vo,1,0,"ng-container",11),u()}if(n&2){let t=r(3).$implicit;r();let i=v(5);ot(t.btnStyle),ce(t.btnClass),p(),l("ngTemplateOutlet",i)("ngTemplateOutletContext",J(6,Te,t))}}function wo(n,e){if(n&1&&h(0,Eo,2,8,"button",17),n&2){let t=r(2).$implicit;l("abpPermission",t.permission)("abpPermissionRunChangeDetection",!1)}}function Fo(n,e){if(n&1&&f(0,To,1,2,"button",13)(1,wo,1,2,"button",14),n&2){let t=r().$implicit;x(t.tooltip?0:1)}}function Po(n,e){if(n&1&&f(0,Fo,2,1),n&2){let t=e.$implicit,i=r();x(t.visible(i.data)?0:-1)}}var ko=(n,e)=>({$implicit:n,index:e});function Do(n,e){if(n&1){let t=S();m(0,"div",7)(1,"input",8),k("change",function(){E(t);let o=r(),a=o.allRowsSelected,s=o.selectFn;return w(s(!a))}),u()()}if(n&2){let t=r().allRowsSelected;p(),l("checked",t)}}function Io(n,e){if(n&1&&f(0,Do,2,1,"div",7),n&2){let t=r(2);x(t._selectionType!=="single"?0:-1)}}function So(n,e){if(n&1){let t=S();m(0,"div",9)(1,"input",10),k("change",function(o){E(t);let a=r().onCheckboxChangeFn;return w(a(o))}),u()()}if(n&2){let t=r().isSelected;p(),l("checked",t)}}function No(n,e){if(n&1){let t=S();m(0,"div",9)(1,"input",11),k("change",function(o){E(t);let a=r().onCheckboxChangeFn;return w(a(o))}),u()()}if(n&2){let t=r().isSelected;p(),l("checked",t)}}function Oo(n,e){if(n&1&&(f(0,So,2,1,"div",9),f(1,No,2,1,"div",9)),n&2){let t=r(2);x(t._selectionType==="single"?0:-1),p(),x(t._selectionType!=="single"?1:-1)}}function Vo(n,e){n&1&&(m(0,"ngx-datatable-column",2),h(1,Io,1,1,"ng-template",5)(2,Oo,2,2,"ng-template",6),u()),n&2&&l("width",50)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1)}function Mo(n,e){n&1&&V(0)}function Ao(n,e){if(n&1&&P(0,"abp-grid-actions",13),n&2){let t=r(2),i=t.row,o=t.rowIndex;l("index",o)("record",i)}}function $o(n,e){if(n&1&&f(0,Ao,1,2,"abp-grid-actions",13),n&2){let t=r().row,i=r(2);x(i.isVisibleActions(t)?0:-1)}}function Ro(n,e){if(n&1&&h(0,Mo,1,0,"ng-container",12)(1,$o,1,1,"ng-template",null,0,K),n&2){let t=e.row,i=e.rowIndex,o=v(2),a=r(2);l("ngTemplateOutlet",a.actionsTemplate||o)("ngTemplateOutletContext",rt(2,ko,t,i))}}function Lo(n,e){if(n&1&&(m(0,"ngx-datatable-column",3),b(1,"abpLocalization"),h(2,Ro,3,5,"ng-template",6),u()),n&2){let t=r();l("name",T(1,5,t.actionsText))("maxWidth",t.columnWidths[0]??void 0)("width",t.columnWidths[0]??200)("canAutoResize",!t.columnWidths[0])("sortable",!1)}}function zo(n,e){if(n&1&&(m(0,"span",15),b(1,"abpLocalization"),D(2),P(3,"i",16),u()),n&2){let t=r().column,i=r(2).$implicit;l("ngbTooltip",T(1,3,i.tooltip.text))("placement",i.tooltip.placement||"auto"),p(2),N(" ",t.name," ")}}function jo(n,e){if(n&1&&D(0),n&2){let t=r().column;N(" ",t.name," ")}}function Bo(n,e){if(n&1&&f(0,zo,4,5,"span",15)(1,jo,1,1),n&2){let t=r(2).$implicit;x(t.tooltip?0:1)}}function Go(n,e){if(n&1){let t=S();m(0,"div",20),b(1,"async"),b(2,"abpUtcToLocal"),b(3,"async"),b(4,"abpUtcToLocal"),b(5,"abpLocalization"),k("click",function(){E(t);let o=r(4),a=o.row,s=o.index,c=r(2).$implicit,d=r();return w(c.action&&c.action({getInjected:d.getInjected,record:a,index:s}))}),u()}if(n&2){let t=r(4).row,i=r(2).$implicit,o=r();W("pointer",i.action),l("innerHTML",i.isExtra?T(5,14,"::"+lt(4,11,T(3,9,t["_"+i.name]==null?null:t["_"+i.name].value),i.type)):lt(2,6,T(1,4,t["_"+i.name]==null?null:t["_"+i.name].value),i.type),tt)("ngClass",o.entityPropTypeClasses[i.type])}}function Wo(n,e){if(n&1){let t=S();m(0,"div",20),b(1,"async"),b(2,"async"),b(3,"abpLocalization"),k("click",function(){E(t);let o=r(4),a=o.row,s=o.index,c=r(2).$implicit,d=r();return w(c.action&&c.action({getInjected:d.getInjected,record:a,index:s}))}),u()}if(n&2){let t=r(4).row,i=r(2).$implicit,o=r();W("pointer",i.action),l("innerHTML",i.isExtra?T(3,8,"::"+T(2,6,t["_"+i.name]==null?null:t["_"+i.name].value)):T(1,4,t["_"+i.name]==null?null:t["_"+i.name].value),tt)("ngClass",o.entityPropTypeClasses[i.type])}}function Ho(n,e){if(n&1&&f(0,Go,6,16,"div",19)(1,Wo,4,10,"div",19),n&2){let t=r(5).$implicit;x(t.type==="datetime"||t.type==="date"||t.type==="time"?0:1)}}function qo(n,e){n&1&&V(0)}function Xo(n,e){if(n&1&&h(0,qo,1,0,"ng-container",21),n&2){let t=r(3).row,i=r(2).$implicit;l("ngComponentOutlet",t["_"+i.name].component)("ngComponentOutletInjector",t["_"+i.name].injector)}}function Uo(n,e){if(n&1&&(X(0),f(1,Ho,2,1)(2,Xo,1,2,"ng-container"),U()),n&2){let t=r(2).row,i=r(2).$implicit;p(),x(t["_"+i.name].component?2:1)}}function Qo(n,e){if(n&1&&(X(0),h(1,Uo,3,1,"ng-container",18),U()),n&2){let t=r().row,i=r(2).$implicit;p(),l("abpVisible",t["_"+i.name]==null?null:t["_"+i.name].visible)}}function Ko(n,e){if(n&1&&h(0,Qo,2,1,"ng-container",17),n&2){let t=r(2).$implicit;l("abpPermission",t.permission)("abpPermissionRunChangeDetection",!1)}}function Yo(n,e){if(n&1&&(m(0,"ngx-datatable-column",4),b(1,"abpLocalization"),h(2,Bo,2,1,"ng-template",5)(3,Ko,1,2,"ng-template",6),u()),n&2){let t=r(),i=t.$implicit,o=t.$index,a=r();l("width",a.columnWidths[o+1]??200)("canAutoResize",!a.columnWidths[o+1])("name",T(1,5,i.isExtra?"::"+i.displayName:i.displayName))("prop",i.name)("sortable",i.sortable)}}function Jo(n,e){if(n&1&&h(0,Yo,4,7,"ngx-datatable-column",14),n&2){let t=e.$implicit,i=r();l("abpVisible",t.columnVisible(i.getInjected))}}var Zo=(n,e)=>e.component||e.action;function ea(n,e){n&1&&V(0)}function ta(n,e){if(n&1&&(h(0,ea,1,0,"ng-container",4),b(1,"createInjector")),n&2){let t=r(3).$implicit,i=r();l("ngComponentOutlet",e)("ngComponentOutletInjector",rn(1,2,i.record,t,i))}}function na(n,e){if(n&1){let t=S();m(0,"button",6),k("click",function(){E(t);let o=r(4).$implicit,a=r();return w(o.action(a.data))}),P(1,"i",7),D(2),b(3,"abpLocalization"),u()}if(n&2){let t=e,i=r(5);l("ngClass",t!=null&&t.btnClass?t==null?null:t.btnClass:i.defaultBtnClass),p(),W("me-1",t==null?null:t.icon),l("ngClass",t==null?null:t.icon),p(),N(" ",T(3,5,t==null?null:t.text)," ")}}function ia(n,e){if(n&1&&f(0,na,4,7,"button",5),n&2){let t,i=r(3).$implicit,o=r();x((t=o.asToolbarAction(i).value)?0:-1,t)}}function oa(n,e){if(n&1&&(X(0),f(1,ta,2,6,"ng-container")(2,ia,1,1),U()),n&2){let t,i=r(2).$implicit;p(),x((t=i.component)?1:2,t)}}function aa(n,e){if(n&1&&h(0,oa,3,1,"ng-container",3),n&2){let t=r().$implicit;l("abpPermission",t.permission)("abpPermissionRunChangeDetection",!1)}}function ra(n,e){if(n&1&&(m(0,"div",2),f(1,aa,1,2,"ng-container"),u()),n&2){let t=e.$implicit,i=e.$index,o=e.$count,a=r();W("pe-0",i===o-1),p(),x(t.visible(a.data)?1:-1)}}function zt(n){return n}var sa=(()=>{let e=class e{constructor(){this.cdRef=F(pe),this.prop=Z(),this.meridian=Z(!1),this.placement=Z("bottom-left")}setDate(i){this.date.writeValue(i)}setTime(i){this.time.writeValue(i)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=j({type:e,selectors:[["abp-extensible-date-time-picker"]],viewQuery:function(o,a){if(o&1&&(re(xe,5),re(he,5)),o&2){let s;se(s=le())&&(a.date=s.first),se(s=le())&&(a.time=s.first)}},inputs:{prop:[1,"prop"],meridian:[1,"meridian"],placement:[1,"placement"]},exportAs:["abpExtensibleDateTimePicker"],features:[Q([],[{provide:R,useFactory:zt,deps:[[new Pe,new ke,R]]},{provide:Ct,useClass:Me},{provide:bt,useClass:Me}])],decls:4,vars:5,consts:[["datepicker","ngbDatepicker"],["timepicker",""],["ngbDatepicker","","type","text",1,"form-control",3,"ngModelChange","click","keyup.space","id","formControlName","placement"],[3,"ngModelChange","formControlName","meridian"]],template:function(o,a){if(o&1){let s=S();m(0,"input",2,0),k("ngModelChange",function(d){return E(s),w(a.setTime(d))})("click",function(){E(s);let d=v(1);return w(d.open())})("keyup.space",function(){E(s);let d=v(1);return w(d.open())}),u(),m(2,"ngb-timepicker",3,1),k("ngModelChange",function(d){return E(s),w(a.setDate(d))}),u()}o&2&&(l("id",a.prop().id)("formControlName",a.prop().name)("placement",a.placement()),p(2),l("formControlName",a.prop().name)("meridian",a.meridian()))},dependencies:[_e,me,ct,pt,_t,gt,xe,yt,he,Oe,ut],encapsulation:2,changeDetection:0});let n=e;return n})(),qe=new A("EXTENSIONS_IDENTIFIER"),jt=new A("EXTENSIONS_ACTION_TYPE"),la=new A("EXTENSIONS_ACTION_DATA"),ca=new A("EXTENSIONS_ACTION_DATA"),pa=new A("PROP_DATA_STREAM"),da=new A("ROW_RECORD"),_a=new A("ENTITY_PROP_TYPE_CLASSES",{factory:()=>({})}),ma=new A("EXTENSIONS_FORM_PROP"),ua=new A("EXTENSIONS_FORM_PROP_DATA"),ie="extraProperties",Ae=class extends be{},$e=class{get data(){return{getInjected:this.getInjected,index:this.index,record:this.record}}},Re=class{constructor(e,t,i,o,a=g=>!0,s=!1,c,d,_,C,y){this.type=e,this.name=t,this.displayName=i,this.permission=o,this.visible=a,this.isExtra=s,this.template=c,this.className=d,this.formText=_,this.tooltip=C,this.displayTextResolver=y,this.displayName=this.displayName||this.name}},ye=class{constructor(){this.contributorCallbacks={}}get(e){return this.contributorCallbacks[e]=this.contributorCallbacks[e]||[],new this._ctor(this.contributorCallbacks[e])}},Le=class{get props(){let e=new this._ctor;return this.callbackList.forEach(t=>t(e)),e}constructor(e){this.callbackList=e}addContributor(e){this.callbackList.push(e)}clearContributors(){for(;this.callbackList.length;)this.callbackList.pop()}},ze=class extends Ae{},je=class extends Le{constructor(){super(...arguments),this._ctor=ze}},wt=class{constructor(){this.items=[],this.count=1}addItem(e){let t=e.group?.name,i=this.items.find(o=>o.group?.name===t);i?i.formPropList.addTail(e):(i={formPropList:new ze,group:e.group||{name:`default${this.count++}`,className:e.group?.className}},i.formPropList.addHead(e),this.items.push(i))}},Ft=class extends ye{constructor(){super(...arguments),this._ctor=je}},Pt=class extends ye{constructor(){super(...arguments),this._ctor=je}},kt=class n extends Re{constructor(e){super(e.type,e.name,e.displayName||"",e.permission||"",e.visible,e.isExtra,e.template,e.className,e.formText,e.tooltip),this.group=e.group,this.className=e.className,this.formText=e.formText,this.tooltip=e.tooltip,this.asyncValidators=e.asyncValidators||(i=>[]),this.validators=e.validators||(i=>[]),this.disabled=e.disabled||(i=>!1),this.readonly=e.readonly||(i=>!1),this.autocomplete=e.autocomplete||"off",this.options=e.options,this.id=e.id||e.name;let t=e.defaultValue;this.defaultValue=fa(t)?t:t||"",this.displayTextResolver=e.displayTextResolver}static create(e){return new n(e)}static createMany(e){return e.map(n.create)}},qn=class extends $e{constructor(e,t){super(),this.record=t,this.getInjected=e.get.bind(e)}};function fa(n){return[0,"",!1].indexOf(n)>-1}var ti="_Text",ni=/_Text$/;function xa(n){return(e,t)=>t&&e?e.getInjected(vn).request({method:"GET",url:n.url||"",params:{[n.filterParamName||""]:t}},{apiName:"Default"}).pipe(M(i=>{let o=i[n.resultListPropertyName||""],a=s=>({key:s[n.displayPropertyName||""],value:s[n.valuePropertyName||""]});return o.map(a)})):z([])}function ha(n,e){return n.url?"typeahead":e.endsWith(ti)?"hidden":void 0}function Ca(n,e){return(t,i)=>{let o=ba(i.name||"");return n(t||e[o].displayName,{name:o,resource:i.resource})}}function Xn(n){return n+ti}function ga(n){return ni.test(n)}function ba(n){return n.replace(ni,"")}var Un=(()=>{var e;let t=class t{constructor(){Ee(this,e);we(this,e,F(ne)),this.meridian$=L(this,e).getDeep$("localization.currentCulture.dateTimeFormat.shortTimePattern").pipe(M(o=>(o||"").includes("tt")))}isRequired(o){return o===dn.required||o===Ve.required||o.name==="required"}getComponent(o){if(o.template)return"template";switch(o.type){case"boolean":return"checkbox";case"date":return"date";case"datetime":return"dateTime";case"hidden":return"hidden";case"multiselect":return"multiselect";case"text":return"textarea";case"time":return"time";case"typeahead":return"typeahead";case"passwordinputgroup":return"passwordinputgroup";default:return o.options?"select":"input"}}getType(o){switch(o.type){case"date":case"string":return"text";case"boolean":return"checkbox";case"number":return"number";case"email":return"email";case"password":return"password";case"passwordinputgroup":return"passwordinputgroup";default:return"hidden"}}calcAsterisks(o){return o&&o.find(s=>this.isRequired(s))?"*":""}};e=new WeakMap,t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=et({token:t,factory:t.\u0275fac});let n=t;return n})(),ya={provide:cn,useExisting:Qt(()=>ii),multi:!0},ii=(()=>{let e=class e{constructor(){this.prop=Z.required(),this.options=Z.required(),this.selectedValues=[],this.disabled=!1,this.onChange=()=>{},this.onTouched=()=>{}}setDisabledState(i){this.disabled=i}isChecked(i){return this.selectedValues.includes(i)}onCheckboxChange(i,o){this.selectedValues=o?[...this.selectedValues,i]:this.selectedValues.filter(a=>a!==i),this.onChange(this.selectedValues),this.onTouched()}writeValue(i){this.selectedValues=Array.isArray(i)?[...i]:[]}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=j({type:e,selectors:[["abp-extensible-form-multi-select"]],inputs:{prop:[1,"prop"],options:[1,"options"]},features:[Q([ya])],decls:3,vars:1,consts:[[3,"id"],["validationTarget","",1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","disabled","checked"],[3,"for"]],template:function(o,a){o&1&&(m(0,"div",0),B(1,di,5,5,"div",1,Jn),u()),o&2&&(l("id",a.prop().id),p(),G(a.options()))},dependencies:[Y,_e,me,Oe,mt],encapsulation:2,changeDetection:0});let n=e;return n})(),Qn=(()=>{var e;let t=class t{constructor(){Ee(this,e);this.service=F(Un),this.cdRef=F(pe),this.track=F(xt),we(this,e,F(Ne)),this.injector=F($),this.form=L(this,e).form,this.asterisk="",this.containerClassName="mb-2",this.showPassword=!1,this.options$=z([]),this.validators=[],this.passwordKey="ThemeShared.Extensions.PasswordComponent",this.disabledFn=o=>!1,this.search=o=>o?o.pipe(Xt(300),Ut(),Ze(a=>this.prop?.options?.(this.data,a)||z([]))):z([]),this.typeaheadFormatter=o=>o.key,this.meridian$=this.service.meridian$}get disabled(){return this.disabledFn(this.data)}setTypeaheadValue(o){this.typeaheadModel=o||{key:null,value:null};let{key:a,value:s}=this.typeaheadModel,[c,d]=this.getTypeaheadControls();d?.value&&!s&&d.markAsDirty(),c?.setValue(a),d?.setValue(s)}get isInvalid(){let o=this.form.get(this.prop.name);return o?.touched&&o.invalid}getTypeaheadControls(){let{name:o}=this.prop,a=`${ie}.${o}`,s=this.form.get(Xn(a))||this.form.get(Xn(o)),c=this.form.get(a)||this.form.get(o);return[s,c]}setAsterisk(){this.asterisk=this.service.calcAsterisks(this.validators)}ngAfterViewInit(){this.isFirstGroup&&this.first&&this.fieldRef&&this.fieldRef.nativeElement.focus()}getComponent(o){return this.service.getComponent(o)}getType(o){return this.service.getType(o)}ngOnChanges({prop:o,data:a}){let s=o?.currentValue,{options:c,readonly:d,disabled:_,validators:C,className:y,template:g}=s||{};g&&(this.injectorForCustomComponent=$.create({providers:[{provide:ma,useValue:s},{provide:ua,useValue:a?.currentValue?.record},{provide:R,useExisting:Ne}],parent:this.injector})),c&&(this.options$=c(this.data)),d&&(this.readonly=d(this.data)),_&&(this.disabledFn=_),C&&(this.validators=C(this.data),this.setAsterisk()),y!==void 0&&(this.containerClassName=y);let[O,I]=this.getTypeaheadControls();O&&I&&(this.typeaheadModel={key:O.value,value:I.value})}};e=new WeakMap,t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=j({type:t,selectors:[["abp-extensible-form-prop"]],viewQuery:function(a,s){if(a&1&&re(_i,5),a&2){let c;se(c=le())&&(s.fieldRef=c.first)}},inputs:{data:"data",prop:"prop",first:"first",isFirstGroup:"isFirstGroup"},features:[Q([Un],[{provide:R,useFactory:zt,deps:[[new Pe,new ke,R]]},{provide:Ct,useClass:vt},{provide:bt,useClass:Et}]),De],decls:3,vars:2,consts:[["label",""],["field",""],["typeahead",""],["datepicker","ngbDatepicker"],[4,"abpPermission","abpPermissionRunChangeDetection"],[1,"mb-2",3,"ngClass"],["type","hidden",3,"formControlName"],["validationTarget","",1,"form-check"],[1,"text-muted","d-block"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"ngTemplateOutlet"],[1,"form-control",3,"id","formControlName","autocomplete","type","abpDisabled","readonly"],["type","checkbox",1,"form-check-input",3,"id","formControlName","abpDisabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-select","form-control",3,"id","formControlName","abpDisabled"],[3,"ngValue"],[3,"prop","options","formControlName","abpDisabled"],["validationStyle","","validationTarget","",1,"position-relative"],[1,"form-control",3,"ngModelChange","selectItem","blur","id","autocomplete","abpDisabled","ngbTypeahead","editable","inputFormatter","resultFormatter","ngModelOptions","ngModel"],["ngbDatepicker","","type","text",1,"form-control",3,"click","keyup.space","id","formControlName"],[3,"formControlName"],[3,"prop","meridian"],[1,"form-control",3,"id","formControlName","abpDisabled","readonly"],["validationTarget","",1,"input-group","form-group"],[1,"form-control",3,"id","formControlName","abpShowPassword"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fa",3,"ngClass"],[3,"htmlFor","ngClass"],[1,"d-inline-flex","align-items-center","gap-1","text-nowrap"],["container","body",1,"bi","bi-info-circle",3,"ngbTooltip","placement"]],template:function(a,s){a&1&&h(0,Gi,15,4,"ng-container",4)(1,Qi,6,5,"ng-template",null,0,K),a&2&&l("abpPermission",s.prop.permission)("abpPermissionRunChangeDetection",!1)},dependencies:[sa,ii,gt,xe,yt,he,me,hn,Cn,ct,pn,xn,pt,_t,Hn,Oe,bn,mt,ut,Ce,Mn,Vn,wn,ue,fe,Y,_e,ee,de,te,Se,gn,un],encapsulation:2,changeDetection:0});let n=t;return n})(),Be=class extends be{},Dt=class{get data(){return{getInjected:this.getInjected,index:this.index,record:this.record}}},Ge=class{constructor(e,t=()=>!0,i=()=>{},o,a){this.permission=e,this.visible=t,this.action=i,this.btnClass=o,this.btnStyle=a}},We=class{constructor(){this.contributorCallbacks={}}get(e){return this.contributorCallbacks[e]=this.contributorCallbacks[e]||[],new this._ctor(this.contributorCallbacks[e])}},He=class{get actions(){let e=new this._ctor;return this.callbackList.forEach(t=>t(e)),e}constructor(e){this.callbackList=e}addContributor(e){this.callbackList.push(e)}clearContributors(){for(;this.callbackList.length;)this.callbackList.pop()}},It=class extends Be{},St=class extends He{constructor(){super(...arguments),this._ctor=It}},Nt=class extends We{constructor(){super(...arguments),this._ctor=St}},Kn=class n extends Ge{constructor(e){super(e.permission||"",e.visible,e.action),this.text=e.text,this.icon=e.icon||"",this.btnClass=e.btnClass||"btn btn-primary text-center",this.btnStyle=e.btnStyle,this.showOnlyIcon=e.showOnlyIcon||!1,this.tooltip=e.tooltip}static create(e){return new n(e)}static createMany(e){return e.map(n.create)}},Ot=class extends Ae{},Vt=class extends Le{constructor(){super(...arguments),this._ctor=Ot}},Mt=class extends ye{constructor(){super(...arguments),this._ctor=Vt}},At=class n extends Re{constructor(e){super(e.type,e.name,e.displayName||"",e.permission||"",e.visible,e.isExtra),this.columnVisible=e.columnVisible||(()=>!0),this.columnWidth=e.columnWidth,this.sortable=e.sortable||!1,this.valueResolver=e.valueResolver||(t=>z(Tn(t.record[this.name]))),e.action&&(this.action=e.action),e.component&&(this.component=e.component),e.enumList&&(this.enumList=e.enumList),this.tooltip=e.tooltip}static create(e){return new n(e)}static createMany(e){return e.map(n.create)}},$t=class extends Be{},Rt=class extends He{constructor(){super(...arguments),this._ctor=$t}},Lt=class extends We{constructor(){super(...arguments),this._ctor=Rt}},Yn=class n extends Ge{constructor(e){super(e.permission||"",e.visible,e.action),this.text=e.text,this.icon=e.icon||"",e.btnClass&&(this.btnClass=e.btnClass)}static create(e){return new n(e)}static createMany(e){return e.map(n.create)}};var Xe=(()=>{let e=class e{constructor(){this.entityActions=new Nt,this.toolbarActions=new Lt,this.entityProps=new Mt,this.createFormProps=new Ft,this.editFormProps=new Pt}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Ta=(()=>{let e=class e extends $e{constructor(i,o,a){super(),this.tempRef=i,this.vcRef=o,this.getInjected=a.get.bind(a)}ngOnChanges(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.tempRef,{$implicit:this.data,index:0})}ngOnDestroy(){this.vcRef.clear()}};e.\u0275fac=function(o){return new(o||e)(q(Yt),q(Jt),q($))},e.\u0275dir=nt({type:e,selectors:[["","abpPropData",""]],inputs:{propList:[0,"abpPropDataFromList","propList"],record:[0,"abpPropDataWithRecord","record"],index:[0,"abpPropDataAtIndex","index"]},exportAs:["abpPropData"],features:[ae,De]});let n=e;return n})(),gr=(()=>{let e=class e{constructor(){this.cdRef=F(pe),this.track=F(xt),this.container=F(R),this.extensions=F(Xe),this.identifier=F(qe),this.extraPropertiesKey=ie}set selectedRecord(i){let o=!i||JSON.stringify(i)==="{}"?"create":"edit",a=this.extensions[`${o}FormProps`].get(this.identifier).props;this.groupedPropList=this.createGroupedList(a),this.record=i}get form(){return this.container?this.container.control:{controls:{}}}get extraProperties(){return this.form.controls.extraProperties||{controls:{}}}createGroupedList(i){let o=new wt;return i.forEach(a=>{o.addItem(a.value)}),o}isAnyGroupMemberVisible(i,o){let{items:a}=this.groupedPropList;return a[i].formPropList.toArray().some(c=>c.visible(o))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=j({type:e,selectors:[["abp-extensible-form"]],viewQuery:function(o,a){if(o&1&&re(Qn,5),o&2){let s;se(s=le())&&(a.formProps=s)}},inputs:{selectedRecord:"selectedRecord"},exportAs:["abpExtensibleForm"],features:[Q([],[{provide:R,useFactory:zt,deps:[[new Pe,new ke,R]]}])],decls:3,vars:1,consts:[["propListTemplate",""],[4,"abpPropData","abpPropDataFromList","abpPropDataWithRecord"],[3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"formGroupName"],[3,"prop","data"],[3,"class","prop","data","first","isFirstGroup"],[3,"prop","data","first","isFirstGroup"]],template:function(o,a){o&1&&(f(0,eo,2,0),h(1,ro,2,0,"ng-template",null,0,K)),o&2&&x(a.form?0:-1)},dependencies:[_e,ee,te,Ta,me,_n,fn,Qn],encapsulation:2,changeDetection:0});let n=e;return n})(),oi=(()=>{let e=class e extends Dt{constructor(i){super(),this.getInjected=i.get.bind(i);let o=i.get(Xe),a=i.get(qe),s=i.get(jt);this.actionList=o[s].get(a).actions}};e.\u0275fac=function(o){return new(o||e)(q($))},e.\u0275dir=nt({type:e,inputs:{record:"record"},features:[ae]});let n=e;return n})(),va=(()=>{let e=class e extends oi{constructor(i){super(i),this.icon="fa fa-cog",this.text="",this.trackByFn=(o,a)=>a.text}};e.\u0275fac=function(o){return new(o||e)(q($))},e.\u0275cmp=j({type:e,selectors:[["abp-grid-actions"]],inputs:{icon:"icon",index:"index",text:"text"},exportAs:["abpGridActions"],features:[Q([{provide:jt,useValue:"entityActions"}]),ae],decls:8,vars:2,consts:[["dropDownBtnItemTmp",""],["buttonContentTmp",""],["btnTmp",""],["ngbDropdown","","container","body",1,"d-inline-block"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["data-toggle","dropdown","aria-haspopup","true","ngbDropdownToggle","",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[3,"ngClass"],["ngbDropdownMenu",""],["ngbDropdownItem","","type","button"],["ngbDropdownItem","","type","button",3,"click",4,"abpPermission","abpPermissionRunChangeDetection"],["ngbDropdownItem","","type","button",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["abpEllipsis",""],["type","button","triggers","hover","container","body",3,"class","style","ngbTooltip","placement"],["type","button",3,"class","style"],["type","button","triggers","hover","container","body",3,"class","style","ngbTooltip","placement","click",4,"abpPermission","abpPermissionRunChangeDetection"],["type","button","triggers","hover","container","body",3,"click","ngbTooltip","placement"],["type","button",3,"class","style","click",4,"abpPermission","abpPermissionRunChangeDetection"],["type","button",3,"click"]],template:function(o,a){o&1&&(f(0,co,8,6,"div",3),f(1,po,1,4,"ng-container",4),h(2,fo,1,1,"ng-template",null,0,K)(4,go,2,4,"ng-template",null,1,K)(6,Po,1,1,"ng-template",null,2,K)),o&2&&(x(a.actionList.length>1?0:-1),p(),x(a.actionList.length===1?1:-1))},dependencies:[Nn,Sn,In,Dn,Pn,kn,jn,ue,ee,fe,Y,te,On,Ce],encapsulation:2,changeDetection:0});let n=e;return n})(),Ea=150,br=(()=>{var e;let t=class t{constructor(){Ee(this,e);we(this,e,F($)),this.getInjected=L(this,e).get.bind(L(this,e)),this.cdr=F(pe),this.locale=F(sn),this.config=F(ne),this.timeZoneService=F(En),this.entityPropTypeClasses=F(_a),this.permissionService=F(ft),this.tableActivate=new it,this.selectable=!1,this._selectionType=Tt.multiClick,this.selected=[],this.selectionChange=new it,this.trackByFn=(s,c)=>c.name,this._actionsColumnWidth=Kt(Ea),this.columnWidths=ln(()=>{let c=[this._actionsColumnWidth()];return this.propList.forEach(({value:d})=>{c.push(d.columnWidth)}),c});let o=L(this,e).get(Xe),a=L(this,e).get(qe);this.propList=o.entityProps.get(a).props,this.actionList=o.entityActions.get(a).actions,this.hasAtLeastOnePermittedAction=this.permissionService.filterItemsByPolicy(this.actionList.toArray().map(s=>({requiredPolicy:s.permission}))).length>0}set actionsText(o){this._actionsText=o}get actionsText(){return this._actionsText??(this.actionList.length>=1?"AbpUi::Actions":"")}set actionsColumnWidth(o){this._actionsColumnWidth.set(o?Number(o):void 0)}set selectionType(o){this._selectionType=typeof o=="string"?Tt[o]:o}getIcon(o){return o?'<div class="text-success"><i class="fa fa-check" aria-hidden="true"></i></div>':'<div class="text-danger"><i class="fa fa-times" aria-hidden="true"></i></div>'}getEnum(o,a){if(!a||a.length<1)return o;let{key:s}=a.find(({value:c})=>c===o)||{};return s}getContent(o,a){return o.valueResolver(a).pipe(M(s=>{switch(o.type){case"boolean":return this.getIcon(s);case"enum":return this.getEnum(s,o.enumList||[]);default:return s}}))}ngOnChanges({data:o}){o?.currentValue&&(o.currentValue.length<1&&(this.list.totalCount=this.recordsTotal),this.data=o.currentValue.map((a,s)=>(this.propList.forEach(c=>{let d={getInjected:this.getInjected,record:a,index:s},_=this.getContent(c.value,d),C=`_${c.value.name}`;a[C]={visible:c.value.visible(d),value:_},c.value.component&&(a[C].injector=$.create({providers:[{provide:pa,useValue:_},{provide:da,useValue:a}],parent:L(this,e)}),a[C].component=c.value.component)}),a)))}isVisibleActions(o){return this.actionList.toArray().filter(c=>{let{visible:d,permission:_}=c,C=!0,y=!0;return d&&(C=d({record:o,getInjected:this.getInjected})),_&&(y=this.permissionService.getGrantedPolicy(_)),C&&y}).length>0}onSelect({selected:o}){this.selected.splice(0,this.selected.length),this.selected.push(...o),this.selectionChange.emit(o)}ngAfterViewInit(){this.list?.requestStatus$?.pipe(Fe(o=>o==="loading")).subscribe(()=>{this.data=[],this.cdr.markForCheck()})}};e=new WeakMap,t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=j({type:t,selectors:[["abp-extensible-table"]],inputs:{actionsText:"actionsText",data:"data",list:"list",recordsTotal:"recordsTotal",actionsColumnWidth:"actionsColumnWidth",actionsTemplate:"actionsTemplate",selectable:"selectable",selectionType:"selectionType",selected:"selected"},outputs:{tableActivate:"tableActivate",selectionChange:"selectionChange"},exportAs:["abpExtensibleTable"],features:[De],decls:5,vars:7,consts:[["gridActions",""],["default","",3,"activate","select","rows","count","list","selectionType","selected"],[3,"width","sortable","canAutoResize","draggable","resizeable"],[3,"name","maxWidth","width","canAutoResize","sortable"],[3,"width","canAutoResize","name","prop","sortable"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],[1,"form-check"],["type","checkbox",1,"form-check-input","table-check",3,"change","checked"],[1,"h-100","form-check","form-check-sm","form-check-custom","form-check-solid"],["type","radio",1,"form-check-input",3,"change","checked"],["type","checkbox",1,"form-check-input",3,"change","checked"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["text","AbpUi::Actions",3,"index","record"],[3,"width","canAutoResize","name","prop","sortable",4,"abpVisible"],["container","body",3,"ngbTooltip","placement"],["aria-hidden","true",1,"fa","fa-info-circle"],[4,"abpPermission","abpPermissionRunChangeDetection"],[4,"abpVisible"],[3,"innerHTML","ngClass","pointer"],[3,"click","innerHTML","ngClass"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(a,s){a&1&&(m(0,"ngx-datatable",1),k("activate",function(d){return s.tableActivate.emit(d)})("select",function(d){return s.onSelect(d)}),f(1,Vo,3,5,"ngx-datatable-column",2),f(2,Lo,3,7,"ngx-datatable-column",3),B(3,Jo,1,1,"ngx-datatable-column",4,ei),u()),a&2&&(l("rows",s.data)("count",s.recordsTotal)("list",s.list)("selectionType",s.selectable?s._selectionType:void 0)("selected",s.selected),p(),x(s.selectable?1:-1),p(),x(s.actionsTemplate||s.actionList.length&&s.hasAtLeastOnePermittedAction?2:-1),p(),G(s.propList))},dependencies:[Wn,zn,Ln,Rn,An,$n,va,Ce,Bn,Gn,ue,fe,Y,Fn,Se,te,de],encapsulation:2,changeDetection:0});let n=t;return n})(),wa=(()=>{let e=class e{transform(i,o,a){return{get:(c,d,_)=>{let C=a.getData(),y=O=>(O=O??a.getData(),o.action(O)),g;switch(c){case la:g=C;break;case ca:g=y;break;default:g=a.getInjected.call(a.injector,c,d,_)}return g}}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=Zt({name:"createInjector",type:e,pure:!0});let n=e;return n})(),yr=(()=>{let e=class e extends oi{constructor(i){super(i),this.injector=i,this.defaultBtnClass="btn btn-sm btn-primary",this.getData=()=>this.data,this.trackByFn=(o,a)=>a.action||a.component}asToolbarAction(i){return{value:i}}};e.\u0275fac=function(o){return new(o||e)(q($))},e.\u0275cmp=j({type:e,selectors:[["abp-page-toolbar"]],exportAs:["abpPageToolbar"],features:[Q([{provide:jt,useValue:"toolbarActions"}]),ae],decls:3,vars:0,consts:[["id","AbpContentToolbar",1,"row","justify-content-end","mx-0","gap-2"],[1,"col-auto","px-0","pt-0",3,"pe-0"],[1,"col-auto","px-0","pt-0"],[4,"abpPermission","abpPermissionRunChangeDetection"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["type","button",1,"d-inline-flex","align-items-center","gap-1",3,"ngClass"],["type","button",1,"d-inline-flex","align-items-center","gap-1",3,"click","ngClass"],[3,"ngClass"]],template:function(o,a){o&1&&(m(0,"div",0),B(1,ra,2,3,"div",1,Zo),u()),o&2&&(p(),G(a.actionList))},dependencies:[wa,ue,fe,Y,ee,de],encapsulation:2,changeDetection:0});let n=e;return n})();var Tr={provide:R,useExisting:Ne};function vr(n,e,...t){Object.keys(e).forEach(i=>{let o=n.get(i);o.clearContributors(),o.addContributor(a=>a.addManyTail(e[i])),t.forEach(a=>(a[i]||[]).forEach(s=>o.addContributor(s)))})}function Er(n){let e=n.getInjected(Xe),t=n.getInjected(qe),i=new dt({}),o=new dt({});i.addControl(ie,o);let a=n.record||{},s=JSON.stringify(a)==="{}"?"create":"edit",c=e[`${s}FormProps`].get(t).props,d=a[ie]||{};return c.forEach(({value:_})=>{let C=_.name,y=_.isExtra||C in d,g;if(y?g=d[C]:C in a&&(g=a[C]),typeof g>"u"&&(g=_.defaultValue),g){let I;switch(_.type){case"date":I=new vt,g=I.toModel(I.fromModel(g));break;case"time":I=new Et,g=I.toModel(I.fromModel(g));break;case"datetime":I=new Me,g=I.toModel(I.fromModel(g));break;default:break}}let O=new mn(g,{asyncValidators:_.asyncValidators(n),validators:_.validators(n)});(y?o:i).addControl(C,O)}),i}function Fa(n){return e=>z(e.record[ie][n])}function wr(n,e,...t){Object.keys(e).forEach(i=>{let o=n.get(i);o.clearContributors(),o.addContributor(a=>a.addManyTail(e[i])),t.forEach(a=>(a[i]||[]).forEach(s=>o.addContributor(s)))})}function Pa(n,e){let t=n.get(ne),i=n.get(ft),o=Object.entries(e),a=s=>{let{permissions:c,globalFeatures:d,features:_}=s||{};return[{items:c?.permissionNames,requiresAll:c?.requiresAll,check:y=>i.getGrantedPolicy(y)},{items:d?.features,requiresAll:d?.requiresAll,check:y=>t.getGlobalFeatureIsEnabled(y)},{items:_?.features,requiresAll:_?.requiresAll,check:y=>t.getFeatureIsEnabled(y)}].every(({items:y,requiresAll:g,check:O})=>y?.length?g?y.every(O):y.some(O):!0)};o.forEach(([s,c])=>{c.policy&&!a(c.policy)&&delete e[s]})}function ka(n){let e={};return n.forEach(({name:t="",value:i})=>{e[e[t]=i]=t}),e}function Da(n,e,t){return i=>{let o=i.record[ie][t],a=e.transformed[o],s=i.getInjected(ht),c=ri(s,n,e);return ai(s,c(a))}}function Ia(n,e){return t=>{let i=t.getInjected(ht),o=ri(i,n,e);return ai(i,e.fields.map(({name:a="",value:s})=>({key:o(a),value:s})))}}function ai(n,e){return Ht(z(null),n.languageChange$).pipe(M(()=>e))}function ri(n,e,t){let i=t.localizationResource,o=Sa(e);return a=>n.localizeWithFallbackSync([i||""],["Enum:"+o+"."+a,o+"."+a,a],a)}function Sa(n){return n.split(".").pop()}function Na(n){let e=yn(n);return(t,i)=>{if(t&&t.name)return e([t.resource||""],[t.name],t.name);let o=e([i.resource||""],["DisplayName:"+i.name],void 0);return o||e([i.resource||""],[i.name||""],i.name)}}function Oa(n){let e=[];return n.attributes.forEach(t=>{t.typeSimple&&t.typeSimple in Ve&&e.push(Ve[t.typeSimple](t.config))}),e}function si(n){return n.getOne$("objectExtensions")}function Va(n){return n.getOne$("localization")}function Ma(n){return si(n).pipe(M(e=>Object.keys(e.enums).reduce((t,i)=>{let{fields:o,localizationResource:a}=e.enums[i];return t[i]={fields:o,localizationResource:a,transformed:ka(o)},t},{})))}function Fr(n,e){let t=n.get(ne);return si(t).pipe(M(i=>i?(i.modules[e]||{}).entities:null),M(i=>Ra(i)?{}:i),Fe(Boolean),Je(1))}function Pr(n,e){let t=n.get(ne);return Wt(Ze(i=>qt(Va(t),Ma(t)).pipe(M(([o,a])=>{let s=Na(o);return Object.keys(i).reduce((c,d)=>{c.prop[d]=[],c.createForm[d]=[],c.editForm[d]=[];let _=i[d];if(!_)return c;let C=_.properties;return C?(Pa(n,C),Aa(s,e,a)(C,c,d)):c},{prop:{},createForm:{},editForm:{}})}))),Je(1))}function Aa(n,e,t){return(i,o,a)=>{let c=Ca(n,i);return Object.keys(i).forEach(d=>{let _=i[d],C=d,y=_.ui.lookup||{},g=ha(y,d)||$a(_),I=(ga(d)?c:n)(_.displayName,{name:d,resource:e});if(_.ui.onTable.isVisible){let Ue=!!_.ui.onTable.isSortable,Qe=g==="boolean"?150:250,Ke=g==="enum"&&_.type?Da(_.type,t[_.type],C):Fa(C),oe=new At({type:g,name:C,displayName:I,sortable:Ue,columnWidth:Qe,valueResolver:Ke,isExtra:!0}),Ye=ve=>ve.addTail(oe);o.prop[a].push(Ye)}let Bt=_.ui.onCreateForm.isVisible,Gt=_.ui.onEditForm.isVisible;if(Bt||Gt){let Ue=_.defaultValue,Qe=_.formText,Ke=()=>Oa(_),oe;g==="enum"?oe=Ia(C,t[_.type||""]):g==="typeahead"&&(oe=xa(y));let Ye=new kt({type:g,name:C,displayName:I,options:oe,defaultValue:Ue,validators:Ke,isExtra:!0,formText:Qe}),ve=li=>li.addTail(Ye);Bt&&o.createForm[a].push(ve),Gt&&o.editForm[a].push(ve)}}),o}}function $a(n){return n?.typeSimple?.replace(/\?$/,"")}function Ra(n){return typeof n>"u"}export{qe as a,ma as b,kt as c,qn as d,Kn as e,At as f,Yn as g,Xe as h,gr as i,br as j,yr as k,Tr as l,vr as m,Er as n,wr as o,Fr as p,Pr as q};
