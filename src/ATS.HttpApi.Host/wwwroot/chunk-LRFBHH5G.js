import{a as F}from"./chunk-YGFJLGMQ.js";import"./chunk-NS3BAJ2F.js";import{ja as b,pa as M}from"./chunk-BDOQTSQV.js";import{Ba as v,Ga as w,Jb as T,Ob as O,Qb as k,T as I,W as N,Wa as c,Xa as n,Xc as h,Ya as i,Za as l,Zc as g,hb as y,lc as R,nc as j,oc as D,ra as d,sc as A,vc as u,wb as o,xa as E,xb as f,yb as C}from"./chunk-KHY5JWQN.js";import{a as p}from"./chunk-R3EWYZZD.js";var q=(()=>{let a=class a{constructor(){this.stats={openPositions:0,totalApplications:0,interviewsScheduled:0,offersExtended:0}}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=v({type:a,selectors:[["app-stats-overview"]],inputs:{stats:"stats"},decls:41,vars:4,consts:[[1,"row","g-3","mb-4"],[1,"col-12","col-sm-6","col-lg-3"],[1,"stat-card"],[1,"d-flex","justify-content-between","align-items-start"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","primary"],[1,"fas","fa-briefcase"],[1,"stat-icon","success"],[1,"fas","fa-file-alt"],[1,"stat-icon","warning"],[1,"fas","fa-calendar-check"],[1,"stat-icon","danger"],[1,"fas","fa-handshake"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"p",4),o(6),i(),n(7,"p",5),o(8,"Open Positions"),i()(),n(9,"div",6),l(10,"i",7),i()()()(),n(11,"div",1)(12,"div",2)(13,"div",3)(14,"div")(15,"p",4),o(16),i(),n(17,"p",5),o(18,"Total Applications"),i()(),n(19,"div",8),l(20,"i",9),i()()()(),n(21,"div",1)(22,"div",2)(23,"div",3)(24,"div")(25,"p",4),o(26),i(),n(27,"p",5),o(28,"Interviews Scheduled"),i()(),n(29,"div",10),l(30,"i",11),i()()()(),n(31,"div",1)(32,"div",2)(33,"div",3)(34,"div")(35,"p",4),o(36),i(),n(37,"p",5),o(38,"Offers Extended"),i()(),n(39,"div",12),l(40,"i",13),i()()()()()),t&2&&(d(6),f(r.stats.openPositions),d(10),f(r.stats.totalApplications),d(10),f(r.stats.interviewsScheduled),d(10),f(r.stats.offersExtended))},dependencies:[u],encapsulation:2});let e=a;return e})();var G=e=>["/applications",e];function W(e,a){e&1&&(n(0,"div",6),l(1,"div",7),i())}function P(e,a){e&1&&(n(0,"div",8)(1,"div",9),l(2,"i",10),i(),n(3,"div",11),o(4,"No Applications Yet"),i(),n(5,"div",12),o(6,"Applications will appear here once candidates start applying"),i()())}function Q(e,a){if(e&1&&(n(0,"tr")(1,"td")(2,"div",16)(3,"div",17)(4,"div",18),o(5),i(),n(6,"small",19),o(7),i()()()(),n(8,"td"),o(9),i(),n(10,"td"),o(11),O(12,"date"),i(),n(13,"td")(14,"span",20),o(15),i()(),n(16,"td")(17,"span",20),o(18),i()(),n(19,"td")(20,"button",21),l(21,"i",22),o(22," View "),i()()()),e&2){let m=a.$implicit,s=y(2);d(5),f(m.candidateName||"Unknown"),d(2),f(m.candidateEmail||""),d(2),f(m.jobTitle||"N/A"),d(2),f(k(12,9,m.appliedDate,"MMM d, y")),d(3),c("ngClass",s.getAIScoreClass(m.aiScore||0)),d(),C(" ",m.aiScore||0,"% "),d(2),c("ngClass",s.getStatusClass(m.status)),d(),f(m.status),d(2),c("routerLink",T(12,G,m.id))}}function U(e,a){if(e&1&&(n(0,"div",13)(1,"table",14)(2,"thead")(3,"tr")(4,"th"),o(5,"Candidate"),i(),n(6,"th"),o(7,"Job Position"),i(),n(8,"th"),o(9,"Applied Date"),i(),n(10,"th"),o(11,"AI Score"),i(),n(12,"th"),o(13,"Status"),i(),n(14,"th"),o(15,"Actions"),i()()(),n(16,"tbody"),w(17,Q,23,14,"tr",15),i()()()),e&2){let m=y();d(17),c("ngForOf",m.applications)}}var $=(()=>{let a=class a{constructor(){this.applications=[],this.loading=!1}getStatusClass(s){return{Applied:"badge-custom badge-pending",Screening:"badge-custom badge-active",Interview:"badge-custom badge-warning",Offer:"badge-custom badge-success",Hired:"badge-custom badge-hired",Rejected:"badge-custom badge-closed"}[s]||"badge-custom"}getAIScoreClass(s){return s>=80?"ai-score-badge score-high":s>=60?"ai-score-badge score-medium":"ai-score-badge score-low"}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=v({type:a,selectors:[["app-recent-applications"]],inputs:{applications:"applications",loading:"loading"},decls:9,vars:3,consts:[[1,"data-table-container"],[1,"table-header"],["routerLink","/applications",1,"btn","btn-sm","btn-outline-primary"],["class","loading-spinner",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"loading-spinner"],[1,"spinner"],[1,"empty-state"],[1,"empty-icon"],[1,"fas","fa-inbox"],[1,"empty-title"],[1,"empty-message"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"ms-2"],[1,"fw-semibold"],[1,"text-muted"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary",3,"routerLink"],[1,"fas","fa-eye"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"div",1)(2,"h3"),o(3,"Recent Applications"),i(),n(4,"a",2),o(5,"View All"),i()(),w(6,W,2,0,"div",3)(7,P,7,0,"div",4)(8,U,18,1,"div",5),i()),t&2&&(d(6),c("ngIf",r.loading),d(),c("ngIf",!r.loading&&r.applications.length===0),d(),c("ngIf",!r.loading&&r.applications.length>0))},dependencies:[u,R,j,D,A,g,h],encapsulation:2});let e=a;return e})();var H=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=v({type:a,selectors:[["app-quick-actions"]],decls:21,vars:0,consts:[[1,"data-table-container"],[1,"table-header"],[1,"row","g-3"],[1,"col-12","col-md-6"],["routerLink","/jobs/new",1,"btn","btn-gradient","w-100","py-3"],[1,"fas","fa-plus-circle","me-2"],["routerLink","/candidates",1,"btn","btn-outline-primary","w-100","py-3"],[1,"fas","fa-users","me-2"],["routerLink","/pipeline",1,"btn","btn-outline-primary","w-100","py-3"],[1,"fas","fa-tasks","me-2"],["routerLink","/reports",1,"btn","btn-outline-primary","w-100","py-3"],[1,"fas","fa-chart-bar","me-2"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"div",1)(2,"h3"),o(3,"Quick Actions"),i()(),n(4,"div",2)(5,"div",3)(6,"button",4),l(7,"i",5),o(8," Post New Job "),i()(),n(9,"div",3)(10,"button",6),l(11,"i",7),o(12," Browse Candidates "),i()(),n(13,"div",3)(14,"button",8),l(15,"i",9),o(16," View Pipeline "),i()(),n(17,"div",3)(18,"button",10),l(19,"i",11),o(20," View Reports "),i()()()())},dependencies:[g,h],encapsulation:2});let e=a;return e})();var _=(function(e){return e[e.New=0]="New",e[e.InReview=1]="InReview",e[e.Shortlisted=2]="Shortlisted",e[e.Interview=3]="Interview",e[e.Offered=4]="Offered",e[e.Hired=5]="Hired",e[e.Rejected=6]="Rejected",e[e.Withdrawn=7]="Withdrawn",e[e.OnHold=8]="OnHold",e})(_||{}),oe=b(_);var J=(()=>{let a=class a{constructor(s){this.restService=s,this.apiName="Default",this.acceptOffer=(t,r)=>this.restService.request({method:"POST",url:`/api/app/application/${t}/accept-offer`},p({apiName:this.apiName},r)),this.assignReviewer=(t,r,S,V)=>this.restService.request({method:"POST",url:`/api/app/application/${t}/assign-reviewer/${r}`,params:{reviewerName:S}},p({apiName:this.apiName},V)),this.create=(t,r)=>this.restService.request({method:"POST",url:"/api/app/application",body:t},p({apiName:this.apiName},r)),this.declineOffer=(t,r)=>this.restService.request({method:"POST",url:`/api/app/application/${t}/decline-offer`},p({apiName:this.apiName},r)),this.delete=(t,r)=>this.restService.request({method:"DELETE",url:`/api/app/application/${t}`},p({apiName:this.apiName},r)),this.get=(t,r)=>this.restService.request({method:"GET",url:`/api/app/application/${t}`},p({apiName:this.apiName},r)),this.getList=(t,r)=>this.restService.request({method:"GET",url:"/api/app/application",params:{jobId:t.jobId,candidateId:t.candidateId,status:t.status,stage:t.stage,assignedToId:t.assignedToId,minAIScore:t.minAIScore,appliedAfter:t.appliedAfter,appliedBefore:t.appliedBefore,sorting:t.sorting,skipCount:t.skipCount,maxResultCount:t.maxResultCount}},p({apiName:this.apiName},r)),this.getPipelineStatistics=(t,r)=>this.restService.request({method:"GET",url:`/api/app/application/pipeline-statistics/${t}`},p({apiName:this.apiName},r)),this.makeOffer=(t,r)=>this.restService.request({method:"POST",url:"/api/app/application/make-offer",body:t},p({apiName:this.apiName},r)),this.moveToStage=(t,r)=>this.restService.request({method:"POST",url:"/api/app/application/move-to-stage",body:t},p({apiName:this.apiName},r)),this.reject=(t,r)=>this.restService.request({method:"POST",url:"/api/app/application/reject",body:t},p({apiName:this.apiName},r)),this.update=(t,r,S)=>this.restService.request({method:"PUT",url:`/api/app/application/${t}`,body:r},p({apiName:this.apiName},S))}};a.\u0275fac=function(t){return new(t||a)(N(M))},a.\u0275prov=I({token:a,factory:a.\u0275fac,providedIn:"root"});let e=a;return e})();var B=(function(e){return e[e.Applied=0]="Applied",e[e.Screening=1]="Screening",e[e.PhoneScreen=2]="PhoneScreen",e[e.FirstInterview=3]="FirstInterview",e[e.TechnicalAssessment=4]="TechnicalAssessment",e[e.FinalInterview=5]="FinalInterview",e[e.ReferenceCheck=6]="ReferenceCheck",e[e.Offer=7]="Offer",e[e.Hired=8]="Hired",e[e.Rejected=9]="Rejected",e})(B||{}),ce=b(B);var Ie=(()=>{let a=class a{constructor(s,t){this.jobService=s,this.applicationService=t,this.stats={openPositions:0,totalApplications:0,interviewsScheduled:0,offersExtended:0},this.recentApplications=[],this.loading=!1}ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.loading=!0,this.jobService.getActiveJobs().subscribe({next:s=>{this.stats.openPositions=s.length},error:s=>console.error("Error loading jobs:",s)}),this.applicationService.getList({maxResultCount:10,skipCount:0,sorting:"creationTime DESC"}).subscribe({next:s=>{this.recentApplications=s.items||[],this.stats.totalApplications=s.totalCount||0,this.calculateStats(s.items||[]),this.loading=!1},error:s=>{console.error("Error loading applications:",s),this.loading=!1}})}calculateStats(s){this.stats.interviewsScheduled=s.filter(t=>t.stage===3||t.stage===4||t.stage===5).length,this.stats.offersExtended=s.filter(t=>t.stage===6).length}};a.\u0275fac=function(t){return new(t||a)(E(F),E(J))},a.\u0275cmp=v({type:a,selectors:[["app-dashboard-page"]],decls:17,vars:3,consts:[[1,"container-fluid","py-4"],[1,"row","mb-4"],[1,"col"],[1,"h2","mb-1"],[1,"text-muted"],[1,"col-auto"],["routerLink","/jobs/new",1,"btn","btn-gradient"],[1,"fas","fa-plus","me-2"],[3,"stats"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[3,"applications","loading"],[1,"col-12","col-lg-4"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"Dashboard Overview"),i(),n(5,"p",4),o(6,"Welcome to TalentFlow ATS"),i()(),n(7,"div",5)(8,"button",6),l(9,"i",7),o(10," Post New Job "),i()()(),l(11,"app-stats-overview",8),n(12,"div",9)(13,"div",10),l(14,"app-recent-applications",11),i(),n(15,"div",12),l(16,"app-quick-actions"),i()()()),t&2&&(d(11),c("stats",r.stats),d(3),c("applications",r.recentApplications)("loading",r.loading))},dependencies:[u,g,h,q,$,H],encapsulation:2});let e=a;return e})();export{Ie as DashboardPage};
