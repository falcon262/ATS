import{a as k}from"./chunk-YGFJLGMQ.js";import"./chunk-E54DX6ID.js";import{B as A,d as D,i as O,m as R}from"./chunk-BDOQTSQV.js";import{$ as g,Ab as T,Ba as x,Bb as F,Cb as M,Ga as b,Ha as P,Jb as y,Wa as m,Xa as n,Xc as E,Ya as t,Za as c,Zc as J,_ as f,bb as _,gb as u,hb as p,lc as V,nc as N,oc as C,ra as a,tb as j,vc as w,wb as d,xa as h,xb as S,yb as v}from"./chunk-KHY5JWQN.js";import"./chunk-R3EWYZZD.js";var z=e=>["/jobs",e],G=e=>["/jobs",e,"edit"];function H(e,l){if(e&1){let s=_();n(0,"li")(1,"a",22),u("click",function(){f(s);let o=p();return g(o.publishJob())}),c(2,"i",23),d(3," Publish "),t()()}}function K(e,l){if(e&1){let s=_();n(0,"li")(1,"a",24),u("click",function(){f(s);let o=p();return g(o.closeJob())}),c(2,"i",25),d(3," Close Job "),t()()}}function Q(e,l){e&1&&(n(0,"span",13),c(1,"i",26),d(2," Remote "),t())}var W=(()=>{let l=class l{constructor(i){this.jobService=i,this.refresh=new P}getStatusClass(i){return{0:"badge-custom badge-draft",1:"badge-custom badge-active",2:"badge-custom badge-closed"}[i]||"badge-custom"}getStatusText(i){return{0:"Draft",1:"Active",2:"Closed"}[i]||"Unknown"}publishJob(){this.job.id&&this.jobService.publish({jobId:this.job.id}).subscribe({next:()=>{this.refresh.emit()},error:i=>{console.error("Failed to publish job:",i)}})}closeJob(){this.job.id&&confirm("Are you sure you want to close this job posting?")&&this.jobService.close(this.job.id).subscribe({next:()=>{this.refresh.emit()},error:i=>{console.error("Failed to close job:",i)}})}};l.\u0275fac=function(o){return new(o||l)(h(k))},l.\u0275cmp=x({type:l,selectors:[["app-job-card"]],inputs:{job:"job"},outputs:{refresh:"refresh"},decls:35,vars:18,consts:[[1,"stat-card","h-100"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[3,"ngClass"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-label","Job actions menu",1,"btn","btn-sm","btn-link","text-muted"],[1,"fas","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"routerLink"],[1,"fas","fa-eye","me-2"],[1,"fas","fa-edit","me-2"],[4,"ngIf"],[1,"mb-2"],[1,"d-flex","flex-wrap","gap-2","mb-3"],[1,"badge","bg-light","text-dark"],[1,"fas","fa-building","me-1"],[1,"fas","fa-map-marker-alt","me-1"],["class","badge bg-light text-dark",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-auto","pt-3","border-top"],[1,"small","text-muted"],[1,"fas","fa-users","me-1"],[1,"btn","btn-sm","btn-outline-primary",3,"routerLink"],[1,"fas","fa-arrow-right","ms-1"],[1,"dropdown-item",3,"click"],[1,"fas","fa-upload","me-2"],[1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-times-circle","me-2"],[1,"fas","fa-laptop-house","me-1"]],template:function(o,r){o&1&&(n(0,"div",0)(1,"div",1)(2,"span",2),d(3),t(),n(4,"div",3)(5,"button",4),c(6,"i",5),t(),n(7,"ul",6)(8,"li")(9,"a",7),c(10,"i",8),d(11," View Details "),t()(),n(12,"li")(13,"a",7),c(14,"i",9),d(15," Edit "),t()(),b(16,H,4,0,"li",10)(17,K,4,0,"li",10),t()()(),n(18,"h5",11),d(19),t(),n(20,"div",12)(21,"span",13),c(22,"i",14),d(23),t(),n(24,"span",13),c(25,"i",15),d(26),t(),b(27,Q,3,0,"span",16),t(),n(28,"div",17)(29,"div",18),c(30,"i",19),d(31),t(),n(32,"button",20),d(33," View Details "),c(34,"i",21),t()()()),o&2&&(a(2),m("ngClass",r.getStatusClass(r.job.status)),a(),v(" ",r.getStatusText(r.job.status)," "),a(6),m("routerLink",y(12,z,r.job.id)),a(4),m("routerLink",y(14,G,r.job.id)),a(3),m("ngIf",r.job.status===0),a(),m("ngIf",r.job.status===1),a(2),S(r.job.title),a(4),v(" ",r.job.departmentName||"N/A"," "),a(3),v(" ",r.job.location||"N/A"," "),a(),m("ngIf",r.job.isRemote),a(4),v(" ",r.job.applicationCount||0," applicants "),a(),m("routerLink",y(16,z,r.job.id)))},dependencies:[w,V,C,J,E],encapsulation:2});let e=l;return e})();function X(e,l){e&1&&(n(0,"div",20),c(1,"div",21),t())}function Y(e,l){e&1&&(n(0,"button",28),c(1,"i",7),d(2," Post New Job "),t())}function Z(e,l){if(e&1&&(n(0,"div",22)(1,"div",23),c(2,"i",24),t(),n(3,"div",25),d(4,"No Jobs Found"),t(),n(5,"div",26),d(6),t(),b(7,Y,3,0,"button",27),t()),e&2){let s=p();a(6),v(" ",s.searchFilter?"Try adjusting your search criteria":"Start by posting your first job opening"," "),a(),m("ngIf",!s.searchFilter)}}function ee(e,l){if(e&1){let s=_();n(0,"div",32)(1,"app-job-card",33),u("refresh",function(){f(s);let o=p(2);return g(o.loadJobs())}),t()()}if(e&2){let s=l.$implicit;a(),m("job",s)}}function te(e,l){if(e&1){let s=_();n(0,"li",36)(1,"a",37),u("click",function(){let o=f(s).$implicit,r=p(3);return g(r.onPageChange(o))}),d(2),t()()}if(e&2){let s=l.$implicit,i=p(3);j("active",i.currentPage===s),a(2),S(s)}}function ie(e,l){if(e&1){let s=_();n(0,"div",34)(1,"nav")(2,"ul",35)(3,"li",36)(4,"a",37),u("click",function(){f(s);let o=p(2);return g(o.onPageChange(o.currentPage-1))}),d(5,"Previous"),t()(),b(6,te,3,3,"li",38),n(7,"li",36)(8,"a",37),u("click",function(){f(s);let o=p(2);return g(o.onPageChange(o.currentPage+1))}),d(9,"Next"),t()()()()()}if(e&2){let s=p(2);a(3),j("disabled",s.currentPage===1),a(3),m("ngForOf",s.pages),a(),j("disabled",s.currentPage===s.totalPages)}}function ne(e,l){if(e&1&&(n(0,"div")(1,"div",29),b(2,ee,2,1,"div",30),t(),b(3,ie,10,5,"div",31),t()),e&2){let s=p();a(2),m("ngForOf",s.jobs),a(),m("ngIf",s.totalPages>1)}}var ge=(()=>{let l=class l{constructor(i){this.jobService=i,this.jobs=[],this.totalCount=0,this.loading=!1,this.searchFilter="",this.currentPage=1,this.pageSize=12}ngOnInit(){this.loadJobs()}loadJobs(){this.loading=!0,this.jobService.getList({filter:this.searchFilter||void 0,maxResultCount:this.pageSize,skipCount:(this.currentPage-1)*this.pageSize,sorting:"creationTime DESC"}).subscribe({next:i=>{this.jobs=i.items||[],this.totalCount=i.totalCount||0,this.loading=!1},error:i=>{console.error("Failed to load jobs:",i),this.loading=!1}})}onSearch(){this.currentPage=1,this.loadJobs()}onPageChange(i){this.currentPage=i,this.loadJobs()}get totalPages(){return Math.ceil(this.totalCount/this.pageSize)}get pages(){return Array.from({length:this.totalPages},(i,o)=>o+1)}};l.\u0275fac=function(o){return new(o||l)(h(k))},l.\u0275cmp=x({type:l,selectors:[["app-job-list"]],decls:25,vars:4,consts:[[1,"container-fluid","py-4"],[1,"row","mb-4"],[1,"col"],[1,"h2","mb-1"],[1,"text-muted"],[1,"col-auto"],["routerLink","/jobs/new",1,"btn","btn-gradient"],[1,"fas","fa-plus","me-2"],[1,"data-table-container","mb-4"],[1,"row","g-3"],[1,"col-12","col-md-6"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Search jobs by title, department, or location...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-search","me-2"],["class","loading-spinner",4,"ngIf"],["class","empty-state",4,"ngIf"],[4,"ngIf"],[1,"loading-spinner"],[1,"spinner"],[1,"empty-state"],[1,"empty-icon"],[1,"fas","fa-briefcase"],[1,"empty-title"],[1,"empty-message"],["class","btn btn-gradient mt-3","routerLink","/jobs/new",4,"ngIf"],["routerLink","/jobs/new",1,"btn","btn-gradient","mt-3"],[1,"row","g-4"],["class","col-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],["class","d-flex justify-content-center mt-4",4,"ngIf"],[1,"col-12","col-md-6","col-lg-4"],[3,"refresh","job"],[1,"d-flex","justify-content-center","mt-4"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"]],template:function(o,r){o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),d(4,"Job Openings"),t(),n(5,"p",4),d(6,"Manage all job positions"),t()(),n(7,"div",5)(8,"button",6),c(9,"i",7),d(10," Post New Job "),t()()(),n(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"span",12),c(16,"i",13),t(),n(17,"input",14),M("ngModelChange",function(I){return F(r.searchFilter,I)||(r.searchFilter=I),I}),u("keyup.enter",function(){return r.onSearch()}),t()()(),n(18,"div",10)(19,"button",15),u("click",function(){return r.onSearch()}),c(20,"i",16),d(21," Search "),t()()()(),b(22,X,2,0,"div",17)(23,Z,8,2,"div",18)(24,ne,4,2,"div",19),t()),o&2&&(a(17),T("ngModel",r.searchFilter),a(5),m("ngIf",r.loading),a(),m("ngIf",!r.loading&&r.jobs.length===0),a(),m("ngIf",!r.loading&&r.jobs.length>0))},dependencies:[w,N,C,J,E,A,D,O,R,W],encapsulation:2});let e=l;return e})();export{ge as JobList};
