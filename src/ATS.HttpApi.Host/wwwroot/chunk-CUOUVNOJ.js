import{a as v,b as W}from"./chunk-QLXJJ2EX.js";import"./chunk-AFABU5UD.js";import{a as z}from"./chunk-R7J4LH2F.js";import{ba as j}from"./chunk-2KNHXYM4.js";import"./chunk-BDOQTSQV.js";import{$ as S,Ba as T,Ga as o,Ob as R,Pb as U,Sc as A,Wa as r,X as E,Xa as a,Xc as B,Ya as i,Za as f,Zc as L,_ as h,bb as D,gb as k,hb as c,lc as F,nc as O,oa as u,oc as N,ra as n,tb as I,tc as P,vb as w,vc as $,wb as d,xa as C,xb as s,yb as x,zb as b}from"./chunk-KHY5JWQN.js";import"./chunk-R3EWYZZD.js";function M(t,l){t&1&&(a(0,"div",3),f(1,"div",4),i())}function J(t,l){if(t&1&&(a(0,"span"),d(1),i()),t&2){let e=c(3);n(),s(e.candidate.currentJobTitle)}}function Y(t,l){t&1&&(a(0,"span"),d(1," at "),i())}function V(t,l){if(t&1&&(a(0,"span"),d(1),i()),t&2){let e=c(3);n(),s(e.candidate.currentCompany)}}function G(t,l){if(t&1&&(a(0,"span"),d(1),i()),t&2){let e=c(3);n(),x(" \u2022 ",e.candidate.yearsOfExperience," years exp.")}}function q(t,l){if(t&1&&(a(0,"p",36),f(1,"i",37),o(2,J,2,1,"span",2)(3,Y,2,0,"span",2)(4,V,2,1,"span",2)(5,G,2,1,"span",2),i()),t&2){let e=c(2);n(2),r("ngIf",e.candidate.currentJobTitle),n(),r("ngIf",e.candidate.currentJobTitle&&e.candidate.currentCompany),n(),r("ngIf",e.candidate.currentCompany),n(),r("ngIf",e.candidate.yearsOfExperience)}}function K(t,l){if(t&1&&(a(0,"p",38),f(1,"i",39),d(2),i()),t&2){let e=c(2);n(2),x(" ",e.getLocation()," ")}}function Q(t,l){if(t&1){let e=D();a(0,"div",40)(1,"button",41),k("click",function(){h(e);let p=c(2);return S(p.downloadResume())}),f(2,"i",42),d(3),i()()}if(t&2){let e=c(2);n(),r("disabled",e.downloadingResume),n(2),x(" ",e.downloadingResume?"Downloading...":"Download Resume"," ")}}function X(t,l){if(t&1&&(a(0,"a",23),d(1),i()),t&2){let e=c(2);r("href","tel:"+e.candidate.phoneNumber,u),n(),s(e.candidate.phoneNumber)}}function Z(t,l){t&1&&(a(0,"span"),d(1,"N/A"),i())}function ee(t,l){t&1&&(a(0,"dt",21),d(1,"Alt. Phone"),i())}function te(t,l){if(t&1&&(a(0,"dd",22)(1,"a",23),d(2),i()()),t&2){let e=c(2);n(),r("href","tel:"+e.candidate.alternatePhone,u),n(),s(e.candidate.alternatePhone)}}function ie(t,l){if(t&1&&(a(0,"a",48),f(1,"i",49),d(2,"LinkedIn "),i()),t&2){let e=c(3);r("href",e.candidate.linkedInUrl,u)}}function ne(t,l){if(t&1&&(a(0,"a",50),f(1,"i",51),d(2,"GitHub "),i()),t&2){let e=c(3);r("href",e.candidate.gitHubUrl,u)}}function ae(t,l){if(t&1&&(a(0,"a",52),f(1,"i",53),d(2,"Portfolio "),i()),t&2){let e=c(3);r("href",e.candidate.portfolioUrl,u)}}function de(t,l){if(t&1&&(a(0,"a",54),f(1,"i",55),d(2,"Website "),i()),t&2){let e=c(3);r("href",e.candidate.personalWebsite,u)}}function le(t,l){if(t&1&&(a(0,"div",18)(1,"h4",19),d(2,"Links"),i(),a(3,"div",43),o(4,ie,3,1,"a",44)(5,ne,3,1,"a",45)(6,ae,3,1,"a",46)(7,de,3,1,"a",47),i()()),t&2){let e=c(2);n(4),r("ngIf",e.candidate.linkedInUrl),n(),r("ngIf",e.candidate.gitHubUrl),n(),r("ngIf",e.candidate.portfolioUrl),n(),r("ngIf",e.candidate.personalWebsite)}}function re(t,l){if(t&1&&(a(0,"p",61),d(1),i()),t&2){let e=c().$implicit;n(),s(e.company)}}function ce(t,l){if(t&1&&(a(0,"small",38),d(1),i()),t&2){let e=c().$implicit,m=c(3);n(),b(" ",m.formatDate(e.startDate)," - ",e.isCurrent?"Present":m.formatDate(e.endDate)," ")}}function oe(t,l){if(t&1&&(a(0,"p",58),d(1),i()),t&2){let e=c().$implicit;n(),s(e.description)}}function me(t,l){if(t&1&&(a(0,"div")(1,"div",57)(2,"div")(3,"h6",58),d(4),i(),o(5,re,2,1,"p",59),i(),o(6,ce,2,2,"small",14),i(),o(7,oe,2,1,"p",60),i()),t&2){let e=l.$implicit,m=l.last;I("mb-3",!m),n(4),s(e.jobTitle||"Professional Experience"),n(),r("ngIf",e.company),n(),r("ngIf",e.startDate),n(),r("ngIf",e.description)}}function se(t,l){if(t&1&&(a(0,"div",18)(1,"h4",19),d(2,"Professional Experience"),i(),o(3,me,8,6,"div",56),i()),t&2){let e=c(2);n(3),r("ngForOf",e.candidate.experience)}}function pe(t,l){if(t&1&&(a(0,"p",36),d(1),i()),t&2){let e=c().$implicit;n(),s(e.institution)}}function _e(t,l){if(t&1&&(a(0,"p",36),d(1),i()),t&2){let e=c().$implicit;n(),s(e.fieldOfStudy)}}function fe(t,l){if(t&1&&(a(0,"small",38),d(1),i()),t&2){let e=c().$implicit;n(),s(e.graduationYear)}}function xe(t,l){if(t&1&&(a(0,"p",58)(1,"strong"),d(2,"Grade:"),i(),d(3),i()),t&2){let e=c().$implicit;n(3),x(" ",e.grade)}}function ve(t,l){if(t&1&&(a(0,"div")(1,"div",57)(2,"div")(3,"h6",58),d(4),i(),o(5,pe,2,1,"p",13)(6,_e,2,1,"p",13),i(),o(7,fe,2,1,"small",14),i(),o(8,xe,4,1,"p",60),i()),t&2){let e=l.$implicit,m=l.last;I("mb-3",!m),n(4),s(e.degree||"Education"),n(),r("ngIf",e.institution),n(),r("ngIf",e.fieldOfStudy),n(),r("ngIf",e.graduationYear),n(),r("ngIf",e.grade)}}function ue(t,l){if(t&1&&(a(0,"div",18)(1,"h4",19),d(2,"Education"),i(),o(3,ve,9,7,"div",56),i()),t&2){let e=c(2);n(3),r("ngForOf",e.candidate.education)}}function ge(t,l){if(t&1&&(a(0,"span",64),d(1),i()),t&2){let e=l.$implicit;n(),s(e)}}function be(t,l){if(t&1&&(a(0,"div",18)(1,"h4",19),d(2,"Skills"),i(),a(3,"div",62),o(4,ge,2,1,"span",63),i()()),t&2){let e=c(2);n(4),r("ngForOf",e.candidate.skills)}}function Ce(t,l){if(t&1&&(a(0,"li",67),f(1,"i",68),d(2),i()),t&2){let e=l.$implicit;n(2),x("",e," ")}}function Ie(t,l){if(t&1&&(a(0,"div",18)(1,"h4",19),d(2,"Certifications"),i(),a(3,"ul",65),o(4,Ce,3,1,"li",66),i()()),t&2){let e=c(2);n(4),r("ngForOf",e.candidate.certifications)}}function ye(t,l){if(t&1&&(a(0,"div",18)(1,"h4",19),d(2,"Notes"),i(),a(3,"p",58),d(4),i()()),t&2){let e=c(2);n(4),s(e.candidate.notes)}}function Ee(t,l){t&1&&(a(0,"span",69),f(1,"i",70),d(2," Yes "),i())}function he(t,l){t&1&&(a(0,"span",38),f(1,"i",71),d(2," No "),i())}function Se(t,l){t&1&&(a(0,"span",69),f(1,"i",70),d(2," Yes "),i())}function Te(t,l){t&1&&(a(0,"span",38),f(1,"i",71),d(2," No "),i())}function De(t,l){t&1&&(a(0,"dt",33),d(1,"Expected Salary"),i())}function ke(t,l){if(t&1&&(a(0,"dd",33),d(1),R(2,"number"),i()),t&2){let e=c(2);n(),b(" ",U(2,2,e.candidate.expectedSalary)," ",e.candidate.preferredCurrency," ")}}function we(t,l){t&1&&(a(0,"dt",33),d(1,"Available From"),i())}function Re(t,l){if(t&1&&(a(0,"dd",33),d(1),i()),t&2){let e=c(2);n(),x(" ",e.formatDate(e.candidate.availableFrom)," ")}}function Ue(t,l){t&1&&(a(0,"dt",33),d(1,"Notice Period"),i())}function Fe(t,l){if(t&1&&(a(0,"dd",33),d(1),i()),t&2){let e=c(2);n(),x(" ",e.candidate.noticePeriod," ")}}function Oe(t,l){if(t&1&&(a(0,"p",67)(1,"strong"),d(2,"Source:"),i(),d(3),i()),t&2){let e=c(3);n(3),x(" ",e.candidate.source)}}function Ne(t,l){if(t&1&&(a(0,"p",58)(1,"strong"),d(2,"Referred By:"),i(),d(3),i()),t&2){let e=c(3);n(3),x(" ",e.candidate.referredBy)}}function Pe(t,l){if(t&1&&(a(0,"div",18)(1,"h4",19),d(2,"Source"),i(),o(3,Oe,4,1,"p",72)(4,Ne,4,1,"p",60),i()),t&2){let e=c(2);n(3),r("ngIf",e.candidate.source),n(),r("ngIf",e.candidate.referredBy)}}function $e(t,l){if(t&1&&(a(0,"span",74),d(1),i()),t&2){let e=l.$implicit;n(),s(e)}}function Ae(t,l){if(t&1&&(a(0,"div",18)(1,"h4",19),d(2,"Tags"),i(),a(3,"div",62),o(4,$e,2,1,"span",73),i()()),t&2){let e=c(2);n(4),r("ngForOf",e.candidate.tags)}}function Be(t,l){if(t&1&&(a(0,"div")(1,"div",5)(2,"div",6)(3,"nav",7)(4,"ol",8)(5,"li",9)(6,"a",10),d(7,"Candidates"),i()(),a(8,"li",11),d(9),i()()(),a(10,"h1",12),d(11),i(),o(12,q,6,4,"p",13)(13,K,3,1,"p",14),i(),o(14,Q,4,2,"div",15),i(),a(15,"div",16)(16,"div",17)(17,"div",18)(18,"h4",19),d(19,"Contact Information"),i(),a(20,"dl",20)(21,"dt",21),d(22,"Email"),i(),a(23,"dd",22)(24,"a",23),d(25),i()(),a(26,"dt",21),d(27,"Phone"),i(),a(28,"dd",22),o(29,X,2,2,"a",24)(30,Z,2,0,"span",2),i(),o(31,ee,2,0,"dt",25)(32,te,3,2,"dd",26),i()(),o(33,le,8,4,"div",27)(34,se,4,1,"div",27)(35,ue,4,1,"div",27)(36,be,5,1,"div",27)(37,Ie,5,1,"div",27)(38,ye,5,1,"div",27),i(),a(39,"div",28)(40,"div",18)(41,"h4",19),d(42,"AI Score"),i(),a(43,"div",29)(44,"h2",30),d(45),i(),a(46,"p",31),d(47,"Overall Match Score"),i()()(),a(48,"div",18)(49,"h4",19),d(50,"Status"),i(),a(51,"span"),d(52),i()(),a(53,"div",18)(54,"h4",19),d(55,"Work Preferences"),i(),a(56,"dl",32)(57,"dt",33),d(58,"Remote Work"),i(),a(59,"dd",33),o(60,Ee,3,0,"span",34)(61,he,3,0,"span",14),i(),a(62,"dt",33),d(63,"Relocation"),i(),a(64,"dd",33),o(65,Se,3,0,"span",34)(66,Te,3,0,"span",14),i(),o(67,De,2,0,"dt",35)(68,ke,3,4,"dd",35)(69,we,2,0,"dt",35)(70,Re,2,1,"dd",35)(71,Ue,2,0,"dt",35)(72,Fe,2,1,"dd",35),i()(),o(73,Pe,5,2,"div",27)(74,Ae,5,1,"div",27),i()()()),t&2){let e=c();n(9),b("",e.candidate.firstName," ",e.candidate.lastName),n(2),b("",e.candidate.firstName," ",e.candidate.lastName),n(),r("ngIf",e.candidate.currentJobTitle||e.candidate.currentCompany),n(),r("ngIf",e.candidate.city||e.candidate.state||e.candidate.country),n(),r("ngIf",e.candidate.resumeUrl),n(10),r("href","mailto:"+e.candidate.email,u),n(),s(e.candidate.email),n(4),r("ngIf",e.candidate.phoneNumber),n(),r("ngIf",!e.candidate.phoneNumber),n(),r("ngIf",e.candidate.alternatePhone),n(),r("ngIf",e.candidate.alternatePhone),n(),r("ngIf",e.candidate.linkedInUrl||e.candidate.gitHubUrl||e.candidate.portfolioUrl||e.candidate.personalWebsite),n(),r("ngIf",e.candidate.experience&&e.candidate.experience.length>0),n(),r("ngIf",e.candidate.education&&e.candidate.education.length>0),n(),r("ngIf",e.candidate.skills&&e.candidate.skills.length>0),n(),r("ngIf",e.candidate.certifications&&e.candidate.certifications.length>0),n(),r("ngIf",e.candidate.notes),n(6),r("ngClass",e.getScoreClass()),n(),x(" ",e.candidate.overallAIScore||0,"% "),n(6),w(e.getStatusBadgeClass()),n(),s(e.getStatusText()),n(8),r("ngIf",e.candidate.isOpenToRemote),n(),r("ngIf",!e.candidate.isOpenToRemote),n(4),r("ngIf",e.candidate.isWillingToRelocate),n(),r("ngIf",!e.candidate.isWillingToRelocate),n(),r("ngIf",e.candidate.expectedSalary),n(),r("ngIf",e.candidate.expectedSalary),n(),r("ngIf",e.candidate.availableFrom),n(),r("ngIf",e.candidate.availableFrom),n(),r("ngIf",e.candidate.noticePeriod),n(),r("ngIf",e.candidate.noticePeriod),n(),r("ngIf",e.candidate.source||e.candidate.referredBy),n(),r("ngIf",e.candidate.tags&&e.candidate.tags.length>0)}}var Ke=(()=>{let l=class l{constructor(m,p){this.candidateService=m,this.route=p,this.candidate=null,this.loading=!1,this.downloadingResume=!1,this.toaster=E(j)}ngOnInit(){this.route.params.subscribe(m=>{let p=m.id;p&&(this.loading=!0,this.candidateService.get(p).subscribe({next:_=>{this.candidate=_,this.loading=!1},error:_=>{console.error("Failed to load candidate:",_),this.loading=!1}}))})}getLocation(){return this.candidate?[this.candidate.city,this.candidate.state,this.candidate.country].filter(Boolean).join(", "):""}getScoreClass(){let m=this.candidate?.overallAIScore||0;return m>=80?"text-success":m>=60?"text-warning":"text-danger"}getStatusText(){if(!this.candidate)return"Unknown";switch(this.candidate.status){case v.Active:return"Active";case v.Inactive:return"Inactive";case v.Blacklisted:return"Blacklisted";case v.Hired:return"Hired";default:return"Active"}}getStatusBadgeClass(){if(!this.candidate)return"badge bg-secondary";switch(this.candidate.status){case v.Active:return"badge bg-success";case v.Inactive:return"badge bg-secondary";case v.Blacklisted:return"badge bg-danger";case v.Hired:return"badge bg-primary";default:return"badge bg-info"}}formatDate(m){return m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short"}):""}downloadResume(){if(!this.candidate?.id)return;this.downloadingResume=!0;let p=`${z.apis.default.url}/api/app/candidate/${this.candidate.id}/resume`;fetch(p,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")||""}`}}).then(_=>{if(!_.ok)throw new Error("Failed to download resume");return _.blob()}).then(_=>{let H=`${this.candidate?.firstName}_${this.candidate?.lastName}_Resume.pdf`,y=window.URL.createObjectURL(_),g=document.createElement("a");g.href=y,g.download=H,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(y),this.toaster.success("Resume downloaded successfully"),this.downloadingResume=!1}).catch(_=>{console.error("Error downloading resume:",_),this.toaster.error("Failed to download resume. The candidate may not have uploaded one."),this.downloadingResume=!1})}};l.\u0275fac=function(p){return new(p||l)(C(W),C(A))},l.\u0275cmp=T({type:l,selectors:[["app-candidate-detail"]],decls:3,vars:2,consts:[[1,"container-fluid","py-4"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"loading-spinner"],[1,"spinner"],[1,"row","mb-4"],[1,"col"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/candidates"],[1,"breadcrumb-item","active"],[1,"h2","mb-2"],["class","text-muted mb-0",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","col-auto",4,"ngIf"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"form-section"],[1,"section-title"],[1,"row","mb-0"],[1,"col-sm-3"],[1,"col-sm-9"],[3,"href"],[3,"href",4,"ngIf"],["class","col-sm-3",4,"ngIf"],["class","col-sm-9",4,"ngIf"],["class","form-section",4,"ngIf"],[1,"col-12","col-lg-4"],[1,"text-center"],[3,"ngClass"],[1,"text-muted","small","mb-0"],[1,"row","mb-0","small"],[1,"col-6"],["class","text-success",4,"ngIf"],["class","col-6",4,"ngIf"],[1,"text-muted","mb-0"],[1,"fas","fa-briefcase","me-2"],[1,"text-muted"],[1,"fas","fa-map-marker-alt","me-2"],[1,"col-auto"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-download","me-2"],[1,"d-flex","flex-wrap","gap-3"],["target","_blank","class","btn btn-outline-primary btn-sm",3,"href",4,"ngIf"],["target","_blank","class","btn btn-outline-dark btn-sm",3,"href",4,"ngIf"],["target","_blank","class","btn btn-outline-secondary btn-sm",3,"href",4,"ngIf"],["target","_blank","class","btn btn-outline-info btn-sm",3,"href",4,"ngIf"],["target","_blank",1,"btn","btn-outline-primary","btn-sm",3,"href"],[1,"fab","fa-linkedin","me-2"],["target","_blank",1,"btn","btn-outline-dark","btn-sm",3,"href"],[1,"fab","fa-github","me-2"],["target","_blank",1,"btn","btn-outline-secondary","btn-sm",3,"href"],[1,"fas","fa-folder","me-2"],["target","_blank",1,"btn","btn-outline-info","btn-sm",3,"href"],[1,"fas","fa-globe","me-2"],[3,"mb-3",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-start","mb-1"],[1,"mb-0"],["class","text-muted mb-1",4,"ngIf"],["class","mb-0",4,"ngIf"],[1,"text-muted","mb-1"],[1,"d-flex","flex-wrap","gap-2"],["class","badge bg-primary",4,"ngFor","ngForOf"],[1,"badge","bg-primary"],[1,"list-unstyled","mb-0"],["class","mb-1",4,"ngFor","ngForOf"],[1,"mb-1"],[1,"fas","fa-certificate","text-success","me-2"],[1,"text-success"],[1,"fas","fa-check-circle"],[1,"fas","fa-times-circle"],["class","mb-1",4,"ngIf"],["class","badge bg-secondary",4,"ngFor","ngForOf"],[1,"badge","bg-secondary"]],template:function(p,_){p&1&&(a(0,"div",0),o(1,M,2,0,"div",1)(2,Be,75,36,"div",2),i()),p&2&&(n(),r("ngIf",_.loading),n(),r("ngIf",!_.loading&&_.candidate))},dependencies:[$,F,O,N,P,L,B],encapsulation:2});let t=l;return t})();export{Ke as CandidateDetail};
