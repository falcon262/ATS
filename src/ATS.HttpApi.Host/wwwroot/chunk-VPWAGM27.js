import{a as j}from"./chunk-NS3BAJ2F.js";import{ba as ee}from"./chunk-2KNHXYM4.js";import{C as Q,c as B,d as V,f as y,i as H,j as Y,n as z,o as G,q as X,s as W,w as $,x as Z,z as K}from"./chunk-BDOQTSQV.js";import{$ as D,Ba as E,Ea as C,Ga as b,Ha as J,Ob as v,Pb as S,Qb as F,Sc as U,Wa as s,Wc as A,Xa as t,Xc as R,Ya as e,Za as d,Zc as q,_ as N,bb as O,gb as h,hb as f,nc as M,oc as I,ra as a,sc as w,tb as g,uc as L,vc as P,wb as i,xa as x,xb as u,yb as _}from"./chunk-KHY5JWQN.js";import"./chunk-R3EWYZZD.js";function ae(n,r){if(n&1&&(t(0,"div",8),i(1),e()),n&2){let o=f();a(),u(o.fileError)}}function le(n,r){if(n&1&&(t(0,"div",55)(1,"small",56),d(2,"i",57),i(3),e()()),n&2){let o=f();a(3),_("Selected: ",o.selectedFileName," ")}}function me(n,r){n&1&&(t(0,"span"),d(1,"i",58),i(2,"Submit Application "),e())}function pe(n,r){n&1&&(t(0,"span"),d(1,"span",59),i(2," Submitting... "),e())}var te=(()=>{let r=class r{constructor(l,m,p){this.fb=l,this.publicJobService=m,this.toaster=p,this.applicationSubmitted=new J,this.submitting=!1,this.selectedFileName="",this.fileError="",this.resumeFileContent=null,this.resumeFileName=null}ngOnInit(){this.applicationForm=this.fb.group({firstName:["",y.required],lastName:["",y.required],email:["",[y.required,y.email]],phone:[""],currentJobTitle:[""],currentCompany:[""],yearsOfExperience:[0,[y.required,y.min(0)]],city:[""],state:[""],country:[""],linkedInUrl:[""],gitHubUrl:[""],portfolioUrl:[""],skillsInput:[""],educationSummary:[""],experienceSummary:[""],coverLetter:[""],consentToProcess:[!1,y.requiredTrue]})}isFieldInvalid(l){let m=this.applicationForm.get(l);return!!(m&&m.invalid&&(m.dirty||m.touched))}onFileSelected(l){let m=l.target.files[0];if(m){if(m.size>5*1024*1024){this.fileError="File size must not exceed 5MB",this.selectedFileName="",this.resumeFileContent=null,l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(m.type)){this.fileError="Only PDF, DOC, and DOCX files are allowed",this.selectedFileName="",this.resumeFileContent=null,l.target.value="";return}this.fileError="",this.selectedFileName=m.name,this.resumeFileName=m.name;let c=new FileReader;c.onload=()=>{let T=c.result;this.resumeFileContent=T.split(",")[1]},c.readAsDataURL(m)}}onSubmit(){if(this.applicationForm.invalid){Object.keys(this.applicationForm.controls).forEach(c=>{this.applicationForm.get(c)?.markAsTouched()}),this.toaster.warn("Please fill in all required fields");return}this.submitting=!0;let l=this.applicationForm.value,m=l.skillsInput?l.skillsInput.split(",").map(c=>c.trim()).filter(c=>c):[],p={jobId:this.jobId,firstName:l.firstName,lastName:l.lastName,email:l.email,phone:l.phone||void 0,currentJobTitle:l.currentJobTitle||void 0,currentCompany:l.currentCompany||void 0,yearsOfExperience:l.yearsOfExperience,city:l.city||void 0,state:l.state||void 0,country:l.country||void 0,linkedInUrl:l.linkedInUrl||void 0,gitHubUrl:l.gitHubUrl||void 0,portfolioUrl:l.portfolioUrl||void 0,coverLetter:l.coverLetter||void 0,educationSummary:l.educationSummary||void 0,experienceSummary:l.experienceSummary||void 0,skills:m,resumeFileName:this.resumeFileName||void 0,resumeContentBase64:this.resumeFileContent||void 0,consentToProcess:l.consentToProcess};this.publicJobService.submitApplication(p).subscribe({next:c=>{this.submitting=!1,this.toaster.success("Application submitted successfully!"),this.applicationSubmitted.emit(c)},error:c=>{console.error("Error submitting application:",c),this.toaster.error(c.error?.error?.message||"Failed to submit application. Please try again."),this.submitting=!1}})}};r.\u0275fac=function(m){return new(m||r)(x(K),x(j),x(ee))},r.\u0275cmp=E({type:r,selectors:[["app-application-form"]],inputs:{jobId:"jobId"},outputs:{applicationSubmitted:"applicationSubmitted"},decls:135,vars:18,consts:[[1,"application-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"mb-3"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstName",1,"form-label"],[1,"text-danger"],["type","text","id","firstName","formControlName","firstName",1,"form-control"],[1,"invalid-feedback"],["for","lastName",1,"form-label"],["type","text","id","lastName","formControlName","lastName",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["for","phone",1,"form-label"],["type","tel","id","phone","formControlName","phone",1,"form-control"],["for","currentJobTitle",1,"form-label"],["type","text","id","currentJobTitle","formControlName","currentJobTitle",1,"form-control"],["for","currentCompany",1,"form-label"],["type","text","id","currentCompany","formControlName","currentCompany",1,"form-control"],["for","yearsOfExperience",1,"form-label"],["type","number","id","yearsOfExperience","formControlName","yearsOfExperience","min","0","max","50",1,"form-control"],[1,"col-md-4","mb-3"],["for","city",1,"form-label"],["type","text","id","city","formControlName","city",1,"form-control"],["for","state",1,"form-label"],["type","text","id","state","formControlName","state",1,"form-control"],["for","country",1,"form-label"],["type","text","id","country","formControlName","country",1,"form-control"],["for","linkedInUrl",1,"form-label"],["type","url","id","linkedInUrl","formControlName","linkedInUrl","placeholder","https://linkedin.com/in/...",1,"form-control"],["for","gitHubUrl",1,"form-label"],["type","url","id","gitHubUrl","formControlName","gitHubUrl","placeholder","https://github.com/...",1,"form-control"],["for","portfolioUrl",1,"form-label"],["type","url","id","portfolioUrl","formControlName","portfolioUrl","placeholder","https://...",1,"form-control"],["for","skills",1,"form-label"],["type","text","id","skills","formControlName","skillsInput","placeholder","e.g., JavaScript, React, Node.js",1,"form-control"],[1,"form-text","text-muted"],["for","educationSummary",1,"form-label"],["id","educationSummary","formControlName","educationSummary","rows","2","placeholder","e.g., BS in Computer Science, University of XYZ (2018-2022)",1,"form-control"],["for","experienceSummary",1,"form-label"],["id","experienceSummary","formControlName","experienceSummary","rows","3","placeholder","Brief summary of your relevant work experience",1,"form-control"],["for","coverLetter",1,"form-label"],["id","coverLetter","formControlName","coverLetter","rows","5","placeholder","Tell us why you're a great fit for this role...",1,"form-control"],["for","resume",1,"form-label"],["type","file","id","resume","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["class","invalid-feedback",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"form-check","mb-3"],["type","checkbox","id","consentToProcess","formControlName","consentToProcess",1,"form-check-input"],["for","consentToProcess",1,"form-check-label"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[4,"ngIf"],[1,"text-muted","text-center","mt-3","small"],[1,"fas","fa-lock","me-1"],[1,"mt-2"],[1,"text-success"],[1,"fas","fa-check-circle","me-1"],[1,"fas","fa-paper-plane","me-2"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(m,p){m&1&&(t(0,"form",0),h("ngSubmit",function(){return p.onSubmit()}),t(1,"div",1)(2,"h4",2),i(3,"Personal Information"),e(),t(4,"div",3)(5,"div",4)(6,"label",5),i(7,"First Name "),t(8,"span",6),i(9,"*"),e()(),d(10,"input",7),t(11,"div",8),i(12,"First name is required"),e()(),t(13,"div",4)(14,"label",9),i(15,"Last Name "),t(16,"span",6),i(17,"*"),e()(),d(18,"input",10),t(19,"div",8),i(20,"Last name is required"),e()()(),t(21,"div",3)(22,"div",4)(23,"label",11),i(24,"Email "),t(25,"span",6),i(26,"*"),e()(),d(27,"input",12),t(28,"div",8),i(29,"Valid email is required"),e()(),t(30,"div",4)(31,"label",13),i(32,"Phone"),e(),d(33,"input",14),e()()(),t(34,"div",1)(35,"h4",2),i(36,"Current Position"),e(),t(37,"div",3)(38,"div",4)(39,"label",15),i(40,"Job Title"),e(),d(41,"input",16),e(),t(42,"div",4)(43,"label",17),i(44,"Company"),e(),d(45,"input",18),e()(),t(46,"div",2)(47,"label",19),i(48,"Years of Experience "),t(49,"span",6),i(50,"*"),e()(),d(51,"input",20),t(52,"div",8),i(53,"Years of experience is required"),e()()(),t(54,"div",1)(55,"h4",2),i(56,"Location"),e(),t(57,"div",3)(58,"div",21)(59,"label",22),i(60,"City"),e(),d(61,"input",23),e(),t(62,"div",21)(63,"label",24),i(64,"State/Province"),e(),d(65,"input",25),e(),t(66,"div",21)(67,"label",26),i(68,"Country"),e(),d(69,"input",27),e()()(),t(70,"div",1)(71,"h4",2),i(72,"Professional Links"),e(),t(73,"div",3)(74,"div",21)(75,"label",28),i(76,"LinkedIn URL"),e(),d(77,"input",29),e(),t(78,"div",21)(79,"label",30),i(80,"GitHub URL"),e(),d(81,"input",31),e(),t(82,"div",21)(83,"label",32),i(84,"Portfolio URL"),e(),d(85,"input",33),e()()(),t(86,"div",1)(87,"h4",2),i(88,"Background"),e(),t(89,"div",2)(90,"label",34),i(91,"Skills (comma-separated)"),e(),d(92,"input",35),t(93,"small",36),i(94,"Enter your skills separated by commas"),e()(),t(95,"div",2)(96,"label",37),i(97,"Education Summary"),e(),d(98,"textarea",38),e(),t(99,"div",2)(100,"label",39),i(101,"Experience Summary"),e(),d(102,"textarea",40),e()(),t(103,"div",1)(104,"h4",2),i(105,"Cover Letter"),e(),t(106,"div",2)(107,"label",41),i(108,"Why are you interested in this position?"),e(),d(109,"textarea",42),e()(),t(110,"div",1)(111,"h4",2),i(112,"Resume/CV"),e(),t(113,"div",2)(114,"label",43),i(115,"Upload Resume (PDF, DOC, DOCX - Max 5MB)"),e(),t(116,"input",44),h("change",function(T){return p.onFileSelected(T)}),e(),b(117,ae,2,1,"div",45)(118,le,4,1,"div",46),e()(),t(119,"div",1)(120,"div",47),d(121,"input",48),t(122,"label",49),i(123," I consent to the processing of my personal data for recruitment purposes "),t(124,"span",6),i(125,"*"),e()(),t(126,"div",8),i(127,"You must consent to data processing"),e()()(),t(128,"div",50)(129,"button",51),b(130,me,3,0,"span",52)(131,pe,3,0,"span",52),e()(),t(132,"p",53),d(133,"i",54),i(134,"Your information is secure and will only be used for recruitment purposes "),e()()),m&2&&(s("formGroup",p.applicationForm),a(10),g("is-invalid",p.isFieldInvalid("firstName")),a(8),g("is-invalid",p.isFieldInvalid("lastName")),a(9),g("is-invalid",p.isFieldInvalid("email")),a(24),g("is-invalid",p.isFieldInvalid("yearsOfExperience")),a(65),g("is-invalid",p.fileError),a(),s("ngIf",p.fileError),a(),s("ngIf",p.selectedFileName),a(3),g("is-invalid",p.isFieldInvalid("consentToProcess")),a(8),s("disabled",p.submitting||p.applicationForm.invalid),a(),s("ngIf",!p.submitting),a(),s("ngIf",p.submitting))},dependencies:[P,I,Q,z,V,G,B,H,Y,Z,$,X,W],styles:[".form-section[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem}.form-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;font-weight:600}.application-form[_ngcontent-%COMP%]{max-width:900px}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;padding:1rem;font-size:1.1rem;font-weight:600}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}"]});let n=r;return n})();var ie=(()=>{let r=class r{transform(l){return{0:"Full-Time",1:"Part-Time",2:"Contract",3:"Temporary",4:"Internship",5:"Freelance"}[l]||"Unknown"}};r.\u0275fac=function(m){return new(m||r)},r.\u0275pipe=C({name:"employmentTypeText",type:r,pure:!0});let n=r;return n})();var ne=(()=>{let r=class r{transform(l){return{0:"Entry Level",1:"Junior",2:"Mid-Level",3:"Senior",4:"Lead",5:"Executive"}[l]||"Unknown"}};r.\u0275fac=function(m){return new(m||r)},r.\u0275pipe=C({name:"experienceLevelText",type:r,pure:!0});let n=r;return n})();function de(n,r){n&1&&(t(0,"span",32),i(1,"Remote"),e())}function se(n,r){if(n&1&&(t(0,"span",33),i(1),e()),n&2){let o=f(2);a(),u(o.job.location)}}function ce(n,r){if(n&1&&(t(0,"div",15)(1,"h3"),i(2,"Requirements"),e(),t(3,"p",34),i(4),e()()),n&2){let o=f(2);a(4),u(o.job.requirements)}}function fe(n,r){if(n&1&&(t(0,"div",15)(1,"h3"),i(2,"Responsibilities"),e(),t(3,"p",34),i(4),e()()),n&2){let o=f(2);a(4),u(o.job.responsibilities)}}function ue(n,r){if(n&1&&(t(0,"span",37),i(1),e()),n&2){let o=r.$implicit;a(),_(" ",o," ")}}function be(n,r){if(n&1&&(t(0,"div",15)(1,"h3"),i(2,"Required Skills"),e(),t(3,"div",35),b(4,ue,2,1,"span",36),e()()),n&2){let o=f(2);a(4),s("ngForOf",o.job.requiredSkills)}}function ve(n,r){if(n&1&&(t(0,"span",39),i(1),e()),n&2){let o=r.$implicit;a(),_(" ",o," ")}}function xe(n,r){if(n&1&&(t(0,"div",15)(1,"h3"),i(2,"Preferred Skills"),e(),t(3,"div",35),b(4,ve,2,1,"span",38),e()()),n&2){let o=f(2);a(4),s("ngForOf",o.job.preferredSkills)}}function ye(n,r){if(n&1&&(t(0,"span"),i(1),v(2,"currency"),e()),n&2){let o=f(3);a(),u(F(2,1,o.job.minSalary,o.job.currency))}}function ge(n,r){n&1&&(t(0,"span"),i(1," - "),e())}function _e(n,r){if(n&1&&(t(0,"span"),i(1),v(2,"currency"),e()),n&2){let o=f(3);a(),u(F(2,1,o.job.maxSalary,o.job.currency))}}function Se(n,r){n&1&&(t(0,"span"),i(1," per year"),e())}function he(n,r){if(n&1&&(t(0,"div",15)(1,"h3"),i(2,"Compensation"),e(),t(3,"p",40),b(4,ye,3,4,"span",41)(5,ge,2,0,"span",41)(6,_e,3,4,"span",41)(7,Se,2,0,"span",41),e()()),n&2){let o=f(2);a(4),s("ngIf",o.job.minSalary),a(),s("ngIf",o.job.minSalary&&o.job.maxSalary),a(),s("ngIf",o.job.maxSalary),a(),s("ngIf",o.job.minSalary||o.job.maxSalary)}}function Ee(n,r){if(n&1&&(t(0,"div",26)(1,"small",27),i(2,"Location"),e(),t(3,"p",28),i(4),e()()),n&2){let o=f(2);a(4),u(o.job.location)}}function Ce(n,r){n&1&&(t(0,"div",26)(1,"small",27),i(2,"Remote Work"),e(),t(3,"p",28),i(4,"\u2713 Remote Available"),e()())}function Ie(n,r){if(n&1&&(t(0,"div",26)(1,"small",27),i(2,"Application Deadline"),e(),t(3,"p",28),i(4),v(5,"date"),e()()),n&2){let o=f(2);a(4),u(S(5,1,o.job.closingDate))}}function Pe(n,r){if(n&1){let o=O();t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h1",6),i(5),e(),t(6,"div",7)(7,"span",8),i(8),v(9,"employmentTypeText"),e(),t(10,"span",9),i(11),v(12,"experienceLevelText"),e(),b(13,de,2,0,"span",10)(14,se,2,1,"span",11),e(),t(15,"p",12),d(16,"i",13),i(17),d(18,"i",14),i(19),v(20,"date"),e()(),t(21,"div",15)(22,"h3"),i(23,"About the Role"),e(),t(24,"p",16),i(25),e()(),b(26,ce,5,1,"div",17)(27,fe,5,1,"div",17)(28,be,5,1,"div",17)(29,xe,5,1,"div",17)(30,he,8,4,"div",17),t(31,"div",18)(32,"h2",19),i(33,"Apply for this Position"),e(),t(34,"app-application-form",20),h("applicationSubmitted",function(m){N(o);let p=f();return D(p.onApplicationSubmitted(m))}),e()()(),t(35,"div",21)(36,"div",22)(37,"div",23)(38,"div",24)(39,"h5",25),i(40,"Job Details"),e(),d(41,"hr"),t(42,"div",26)(43,"small",27),i(44,"Employment Type"),e(),t(45,"p",28),i(46),v(47,"employmentTypeText"),e()(),t(48,"div",26)(49,"small",27),i(50,"Experience Level"),e(),t(51,"p",28),i(52),v(53,"experienceLevelText"),e()(),b(54,Ee,5,1,"div",29)(55,Ce,5,0,"div",29)(56,Ie,6,3,"div",29),t(57,"a",30),d(58,"i",31),i(59,"Apply Now "),e()()()()()()()}if(n&2){let o=f();a(5),u(o.job.title),a(3),u(S(9,19,o.job.employmentType)),a(3),u(S(12,21,o.job.experienceLevel)),a(2),s("ngIf",o.job.isRemote),a(),s("ngIf",o.job.location),a(3),_("",o.job.departmentName," "),a(2),_("Posted ",S(20,23,o.job.postedDate)," "),a(6),u(o.job.description),a(),s("ngIf",o.job.requirements),a(),s("ngIf",o.job.responsibilities),a(),s("ngIf",o.job.requiredSkills==null?null:o.job.requiredSkills.length),a(),s("ngIf",o.job.preferredSkills==null?null:o.job.preferredSkills.length),a(),s("ngIf",o.job.minSalary||o.job.maxSalary),a(4),s("jobId",o.job.id),a(12),u(S(47,25,o.job.employmentType)),a(6),u(S(53,27,o.job.experienceLevel)),a(2),s("ngIf",o.job.location),a(),s("ngIf",o.job.isRemote),a(),s("ngIf",o.job.closingDate)}}function je(n,r){n&1&&(t(0,"div",42)(1,"div",43)(2,"span",44),i(3,"Loading..."),e()(),t(4,"p",45),i(5,"Loading job details..."),e()())}function Te(n,r){n&1&&(t(0,"div",42)(1,"div",46),d(2,"i",47),i(3," Job not found or no longer available. "),e(),t(4,"a",48),d(5,"i",49),i(6,"Back to Home "),e()())}var ze=(()=>{let r=class r{constructor(l,m,p){this.route=l,this.router=m,this.publicJobService=p,this.job=null,this.loading=!0}ngOnInit(){let l=this.route.snapshot.paramMap.get("slug");l?this.loadJob(l):this.loading=!1}loadJob(l){this.loading=!0,this.publicJobService.getBySlug(l).subscribe({next:m=>{this.job=m,this.loading=!1},error:m=>{console.error("Error loading job:",m),this.loading=!1}})}onApplicationSubmitted(l){this.router.navigate(["/apply/success"],{queryParams:{applicationId:l}})}};r.\u0275fac=function(m){return new(m||r)(x(U),x(A),x(j))},r.\u0275cmp=E({type:r,selectors:[["app-public-job-detail"]],decls:3,vars:3,consts:[["class","container py-5",4,"ngIf"],["class","container py-5 text-center",4,"ngIf"],[1,"container","py-5"],[1,"row"],[1,"col-lg-8"],[1,"job-header","mb-4"],[1,"display-4"],[1,"job-meta","mt-3"],[1,"badge","bg-primary","me-2"],[1,"badge","bg-info","me-2"],["class","badge bg-secondary me-2",4,"ngIf"],["class","badge bg-secondary",4,"ngIf"],[1,"text-muted","mt-2"],[1,"fas","fa-building","me-2"],[1,"fas","fa-calendar","ms-3","me-2"],[1,"job-section","mb-4"],[1,"job-description"],["class","job-section mb-4",4,"ngIf"],["id","apply",1,"application-section","mt-5"],[1,"mb-4"],[3,"applicationSubmitted","jobId"],[1,"col-lg-4"],[1,"sticky-top",2,"top","20px"],[1,"card","shadow-sm"],[1,"card-body"],[1,"card-title"],[1,"mb-3"],[1,"text-muted"],[1,"mb-0"],["class","mb-3",4,"ngIf"],["href","#apply",1,"btn","btn-primary","w-100","mt-3"],[1,"fas","fa-paper-plane","me-2"],[1,"badge","bg-secondary","me-2"],[1,"badge","bg-secondary"],[1,"whitespace-pre-line"],[1,"skills-container"],["class","badge bg-primary me-2 mb-2",4,"ngFor","ngForOf"],[1,"badge","bg-primary","me-2","mb-2"],["class","badge bg-secondary me-2 mb-2",4,"ngFor","ngForOf"],[1,"badge","bg-secondary","me-2","mb-2"],[1,"h5"],[4,"ngIf"],[1,"container","py-5","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["routerLink","/",1,"btn","btn-primary"],[1,"fas","fa-home","me-2"]],template:function(m,p){m&1&&b(0,Pe,60,29,"div",0)(1,je,6,0,"div",1)(2,Te,7,0,"div",1),m&2&&(s("ngIf",p.job),a(),s("ngIf",!p.job&&p.loading),a(),s("ngIf",!p.job&&!p.loading))},dependencies:[P,M,I,L,w,q,R,te,ie,ne],styles:["[_nghost-%COMP%]{display:block;background:#fff;min-height:100vh}.container[_ngcontent-%COMP%]{background:#fff}.job-header[_ngcontent-%COMP%]{border-bottom:2px solid #f0f0f0;padding-bottom:1.5rem}.job-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:1.5rem;margin-bottom:1rem;font-weight:600}.job-description[_ngcontent-%COMP%]{line-height:1.8;color:#555}.whitespace-pre-line[_ngcontent-%COMP%]{white-space:pre-line;line-height:1.8;color:#555}.skills-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem}.application-section[_ngcontent-%COMP%]{border-top:2px solid #f0f0f0;padding-top:2rem}"]});let n=r;return n})();export{ze as PublicJobDetailComponent};
