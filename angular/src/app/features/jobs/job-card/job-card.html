<div class="stat-card h-100">
  <div class="d-flex justify-content-between align-items-start mb-3">
    <span [ngClass]="getStatusClass(job.status)">
      {{ getStatusText(job.status) }}
    </span>
    <div class="dropdown">
      <button class="btn btn-sm btn-link text-muted" type="button" data-bs-toggle="dropdown" aria-label="Job actions menu">
        <i class="fas fa-ellipsis-v"></i>
      </button>
      <ul class="dropdown-menu dropdown-menu-end">
        <li>
          <a class="dropdown-item" [routerLink]="['/jobs', job.id]">
            <i class="fas fa-eye me-2"></i> View Details
          </a>
        </li>
        <li>
          <a class="dropdown-item" [routerLink]="['/jobs', job.id, 'edit']">
            <i class="fas fa-edit me-2"></i> Edit
          </a>
        </li>
        <li *ngIf="job.status === 0">
          <a class="dropdown-item" (click)="publishJob()">
            <i class="fas fa-upload me-2"></i> Publish
          </a>
        </li>
        <li *ngIf="job.status === 1">
          <a class="dropdown-item text-danger" (click)="closeJob()">
            <i class="fas fa-times-circle me-2"></i> Close Job
          </a>
        </li>
      </ul>
    </div>
  </div>

  <h5 class="mb-2">{{ job.title }}</h5>

  <div class="d-flex flex-wrap gap-2 mb-3">
    <span class="badge bg-light text-dark">
      <i class="fas fa-building me-1"></i> {{ job.departmentName || 'N/A' }}
    </span>
    <span class="badge bg-light text-dark">
      <i class="fas fa-map-marker-alt me-1"></i> {{ job.location || 'N/A' }}
    </span>
    <span class="badge bg-light text-dark" *ngIf="job.isRemote">
      <i class="fas fa-laptop-house me-1"></i> Remote
    </span>
  </div>

  <div class="d-flex justify-content-between align-items-center mt-auto pt-3 border-top">
    <div class="small text-muted">
      <i class="fas fa-users me-1"></i> {{ job.applicationCount || 0 }} applicants
    </div>
    <button class="btn btn-sm btn-outline-primary" [routerLink]="['/jobs', job.id]">
      View Details <i class="fas fa-arrow-right ms-1"></i>
    </button>
  </div>
</div>
